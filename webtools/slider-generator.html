<html>
    <head>
        <title>Slider Generator</title>
        <script type="text/javascript">
          var sliderHTML = `PCFET0NUWVBFIGh0bWw+DQo8aHRtbD4NCiAgPGhlYWQ+DQogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPg0KICAgIDx0aXRsZT5TbGlkZXIgZXhhbXBsZTwvdGl0bGU+DQogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KICAgIChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoYixjKXt0aGlzLnNlbGVjdG9yPW51bGw7Yz90aGlzLm5vZGVzPWM6InN0cmluZyI9PXR5cGVvZiBiPyh0aGlzLnNlbGVjdG9yPWIsdGhpcy5ub2Rlcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGIpKTp0aGlzLm5vZGVzPVtiXTt0aGlzLmxlbmd0aD10aGlzLm5vZGVzLmxlbmd0aDt0aGlzLmVsPXRoaXMubm9kZXNbMF19ZnVuY3Rpb24gZChiKXtyZXR1cm4gbmV3IGUoYil9ZnVuY3Rpb24gayhiLGMpe2Z1bmN0aW9uIGwoYSxjLGQpe2E9YXx8e307ZSgpOyExIT09YyYmcigpO049bj1mPW51bGw7cD0tMTtDPXo9RD1FPW51bGw7QT0hMTtCPW51bGw7Rj0hMTtxPW51bGw7ayhhKTt1KCk7UyhmLnRyYW5zaXRpb25fdHlwZSwhMCk7bi5maW5kKCIjIitiKyIgLmlzbS1jYXB0aW9uIikuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIik7VCgpO2NhKCk7eChmLnBsYXlfdHlwZSk7ZGEoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ITAhPT1kJiZoKCl9LA0KMUUzKX1mdW5jdGlvbiBlKCl7ZCgiIyIrYisiLWlzbS1sb2FkaW5nLW1hc2siKS5yZW1vdmUoKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKTthLmlkPWIrIi1pc20tbG9hZGluZy1tYXNrIjthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zdHlsZS56SW5kZXg9MTA7YS5zdHlsZS50b3A9MDthLnN0eWxlLmJvdHRvbT0wO2Euc3R5bGUubGVmdD0wO2Euc3R5bGUucmlnaHQ9MDthLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iI2VlZSI7ZCgiIyIrYikuZWwuYXBwZW5kQ2hpbGQoYSl9ZnVuY3Rpb24gaCgpe2QoIiMiK2IpLnNob3coKTsxPT1kKCIjIitiKyItaXNtLWxvYWRpbmctbWFzayIpLmxlbmd0aCYmZCgiIyIrYisiLWlzbS1sb2FkaW5nLW1hc2siKS5mYWRlT3V0KDQwMCxmdW5jdGlvbigpe2QoIiMiK2IrIi1pc20tbG9hZGluZy1tYXNrIikucmVtb3ZlKCk7TygwKTtVKDApfSl9ZnVuY3Rpb24gayhhKXtmb3IodmFyIGMgaW4gRyl7dmFyIGc9dHlwZW9mIEdbY107DQp2b2lkIDA9PWFbY10mJiJvYmplY3QiIT1nJiYoZz1kKCIjIitiKS5kYXRhKGMpLHZvaWQgMCE9ZyYmKCJ0cnVlIj09PWc/Zz0hMDoiZmFsc2UiPT09ZyYmKGc9ITEpLGFbY109ZykpfWY9YXx8e307Zm9yKGMgaW4gRyl2b2lkIDA9PWZbY10mJihmW2NdPUdbY10pO2YuY2FwdGlvbnM9W107YT1kKCIjIitiKyIgb2wgPiBsaSIpO2M9YS5sZW5ndGg7Zm9yKGc9MDtnPGM7ZysrKXtmLmNhcHRpb25zW2ddPVtdO2Zvcih2YXIgbD0wOzM+bDtsKyspe3ZhciBlPXtlbmFibGU6VltsXS5lbmFibGUsZGVsYXk6VltsXS5kZWxheX0sdD1kKGEuZ2V0KGcpKS5maW5kKCIuaXNtLWNhcHRpb24tIitsKTsxPT10Lmxlbmd0aCYmKGUuZW5hYmxlPSEwLHQ9dC5kYXRhKCJkZWxheSIpLGlzTmFOKHQpfHwoZS5kZWxheT1wYXJzZUludCh0KSkpO2YuY2FwdGlvbnNbZ11bbF09ZX19fWZ1bmN0aW9uIHIoKXtnKCk7VygpO3EmJnEudW5iaW5kRXZlbnRMaXN0ZW5lcnMoKTtYKCk7ZCgiIyIrYisiIC5pc20tcmFkaW9zIGlucHV0LmlzbS1yYWRpbywgIyIrDQpiKyIgLmlzbS1yYWRpb3MgLmlzbS1yYWRpby1sYWJlbCIpLm9mZigiY2xpY2siLEgpO2QoIiMiK2IrIiAuaXNtLXJhZGlvcyBpbnB1dC5pc20tcmFkaW8sICMiK2IrIiAuaXNtLXJhZGlvcyAuaXNtLXJhZGlvLWxhYmVsIikub2ZmKCJ0b3VjaHN0YXJ0IixIKTtZKCk7ZCgiIyIrYisiIC5pc20tYnV0dG9uIikucmVtb3ZlKCk7ZCgiIyIrYisiIC5pc20tcmFkaW9zIikucmVtb3ZlKCk7ZCgiIyIrYisiIC5pc20tY2xvbmVkIikucmVtb3ZlKCk7Zm9yKGQoIiMiK2IrIiAuaXNtLXRtcC1jbG9uZSIpLnJlbW92ZSgpOzA8ZCgiIyIrYisiIC5pc20tZnJhbWUiKS5sZW5ndGg7KWQoIiMiK2IrIiAuaXNtLXNsaWRlcyIpLnVud3JhcCgpOzA8ZCgiIyIrYisiIC5pc20taW1nLWZyYW1lIikubGVuZ3RoJiZkKCIjIitiKyIgLmlzbS1pbWciKS51bndyYXAoKTtkKCIjIitiKyIgLmlzbS1jYXB0aW9uIikucmVtb3ZlQXR0cigic3R5bGUiKTtkKCIjIitiKyIgLmlzbS1zbGlkZSIpLnNob3coKTtkKCIjIisNCmIrIiAuaXNtLXNsaWRlIikucmVtb3ZlQXR0cigic3R5bGUiKTtkKCIjIitiKyIgLmlzbS1zbGlkZXMiKS5yZW1vdmVBdHRyKCJzdHlsZSIpO2QoIiMiK2IrIiAuaXNtLWltZyIpLnJlbW92ZUNsYXNzKCJpc20taW1nIik7ZCgiIyIrYisiIC5pc20tc2xpZGUiKS5yZW1vdmVDbGFzcygiaXNtLXNsaWRlIGlzbS1zbGlkZS0wIGlzbS1zbGlkZS0xIGlzbS1zbGlkZS0yIGlzbS1zbGlkZS0zIGlzbS1zbGlkZS00IGlzbS1zbGlkZS01IGlzbS1zbGlkZS02IGlzbS1zbGlkZS03IGlzbS1zbGlkZS04IGlzbS1zbGlkZS05Iik7ZCgiIyIrYisiIC5pc20tc2xpZGVzIikucmVtb3ZlQ2xhc3MoImlzbS1zbGlkZXMiKTtkKCIjIitiKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9ZnVuY3Rpb24gdSgpe249ZCgiIyIrYisiIG9sIik7Tj0xMDAvZCgiIyIrYisiIG9sID4gbGkiKS5sZW5ndGg7cD0wO24uYWRkQ2xhc3MoImlzbS1zbGlkZXMiKTtkKCIjIitiKyIgLmlzbS1zbGlkZXMgPiBsaSIpLmFkZENsYXNzKCJpc20tc2xpZGUiKTsNCmQoIiMiK2IrIiAuaXNtLXNsaWRlcyA+IC5pc20tc2xpZGUgPiBpbWcsICMiK2IrIiAuaXNtLXNsaWRlcyA+IC5pc20tc2xpZGUgPiBhID4gaW1nIikuYWRkQ2xhc3MoImlzbS1pbWciKTtuLmZpbmQoImxpIikuZWFjaChmdW5jdGlvbihhKXt0aGlzLmFkZENsYXNzKCJpc20tc2xpZGUtIithKX0pO2QoIiMiK2IpLndyYXBJbm5lcigiPGRpdiBjbGFzcz0naXNtLWZyYW1lJz48L2Rpdj4iKTtuPWQoIiMiK2IrIiBvbC5pc20tc2xpZGVzIik7ZCgiIyIrYisiIC5pc20taW1nIikud3JhcCgiPGRpdiBjbGFzcz0naXNtLWltZy1mcmFtZSc+PC9kaXY+Iil9ZnVuY3Rpb24gbSgpe3JldHVybiBkKCIjIitiKyIgLmlzbS1zbGlkZSIpLmxlbmd0aH1mdW5jdGlvbiB4KGEpe2YucGxheV90eXBlPWE7WSgpO2QoIiMiK2IrIiAuaXNtLXBhdXNlLWJ1dHRvbiIpLnJlbW92ZSgpO2YucGF1c2VfYnV0dG9uJiYibWFudWFsIiE9Zi5wbGF5X3R5cGUmJihuLmFmdGVyKCI8ZGl2IGNsYXNzPSdpc20tcGF1c2UtYnV0dG9uJz4mbmJzcDs8L2Rpdj4iKSwNCkM9ZCgiIyIrYisiIC5pc20tcGF1c2UtYnV0dG9uIiksQy5vbigiY2xpY2siLEkpLEMub24oInRvdWNoc3RhcnQiLEkpKTt2KCl9ZnVuY3Rpb24gdigpe0E9ITA7ZCgiIyIrYisiIC5pc20tcGF1c2UtYnV0dG9uIikucmVtb3ZlQ2xhc3MoImlzbS1wbGF5Iik7Im1hbnVhbCIhPWYucGxheV90eXBlJiYoY2xlYXJUaW1lb3V0KEIpLEI9c2V0VGltZW91dChhLGYuaW50ZXJ2YWwpKX1mdW5jdGlvbiBhKCl7dmFyIGE9cCsxO0EmJiJtYW51YWwiIT1mLnBsYXlfdHlwZSYmKCJvbmNlIj09Zi5wbGF5X3R5cGUmJnA9PW0oKS0yPyh5KGEpLGcoKSk6Im9uY2UtcmV3aW5kIj09Zi5wbGF5X3R5cGUmJnA9PW0oKS0xPyh5KDApLGcoKSk6KCJsb29wIj09Zi5wbGF5X3R5cGUmJnA9PW0oKS0xP3koMCk6eShhKSx2KCkpKX1mdW5jdGlvbiBnKCl7QT0hMTtjbGVhclRpbWVvdXQoQik7Qj1udWxsO2QoIiMiK2IrIiAuaXNtLXBhdXNlLWJ1dHRvbiIpLmFkZENsYXNzKCJpc20tcGxheSIpfWZ1bmN0aW9uIHQoYSwNCmIpe2EhPXAmJihnKCkseShhLGIpKX1mdW5jdGlvbiBUKCl7Zi5idXR0b25zJiYobi5hZnRlcigiPGRpdiBjbGFzcz0naXNtLWJ1dHRvbiBpc20tYnV0dG9uLXByZXYnPiZuYnNwOzwvZGl2PjxkaXYgY2xhc3M9J2lzbS1idXR0b24gaXNtLWJ1dHRvbi1uZXh0Jz4mbmJzcDs8L2Rpdj4iKSxFPWQoIiMiK2IrIiAuaXNtLWJ1dHRvbi1wcmV2IiksRD1kKCIjIitiKyIgLmlzbS1idXR0b24tbmV4dCIpLEUub24oImNsaWNrIixKKSxFLm9uKCJ0b3VjaHN0YXJ0IixKKSxELm9uKCJjbGljayIsSyksRC5vbigidG91Y2hzdGFydCIsSykpfWZ1bmN0aW9uIFgoKXtkKCIjIitiKyIgLmlzbS1idXR0b24tcHJldiIpLm9mZigiY2xpY2siLEopO2QoIiMiK2IrIiAuaXNtLWJ1dHRvbi1wcmV2Iikub2ZmKCJ0b3VjaHN0YXJ0IixKKTtkKCIjIitiKyIgLmlzbS1idXR0b24tbmV4dCIpLm9mZigiY2xpY2siLEspO2QoIiMiK2IrIiAuaXNtLWJ1dHRvbi1uZXh0Iikub2ZmKCJ0b3VjaHN0YXJ0IixLKX1mdW5jdGlvbiBKKGEpe2EmJg0KYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpO2EmJmEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpO3QocC0xKX1mdW5jdGlvbiBLKGEpe2EmJmEucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKTthJiZhLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKTt0KHArMSl9ZnVuY3Rpb24gY2EoKXtpZihmLnJhZGlvcyl7ZCgiIyIrYikuYXBwZW5kKCI8dWwgY2xhc3M9J2lzbS1yYWRpb3MnPjwvdWw+Iik7ej1kKCIjIitiKyIgLmlzbS1yYWRpb3MiKTsidGh1bWJuYWlsIj09Zi5yYWRpb190eXBlJiZ6LmFkZENsYXNzKCJpc20tcmFkaW9zLWFzLXRodW1ibmFpbHMiKTtmb3IodmFyIGE9MDthPG0oKTthKyspMD09YT96LmFwcGVuZCgiPGxpIGNsYXNzPSdpc20tcmFkaW8tIithKyIgYWN0aXZlJz48aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9J2lzbS1yYWRpbycgY2xhc3M9J2lzbS1yYWRpbycgaWQ9J2lzbS1yYWRpby0iK2ErDQoiJyBjaGVja2VkPSdjaGVja2VkJyAvPjxsYWJlbCBjbGFzcz0naXNtLXJhZGlvLWxhYmVsJyBmb3I9J2lzbS1yYWRpby0iK2ErIic+PC9sYWJlbD48L2xpPiIpOnouYXBwZW5kKCI8bGkgY2xhc3M9J2lzbS1yYWRpby0iK2ErIic+PGlucHV0IHR5cGU9J3JhZGlvJyBuYW1lPSdpc20tcmFkaW8nIGNsYXNzPSdpc20tcmFkaW8nIGlkPSdpc20tcmFkaW8tIithKyInIC8+PGxhYmVsIGNsYXNzPSdpc20tcmFkaW8tbGFiZWwnIGZvcj0naXNtLXJhZGlvLSIrYSsiJz48L2xhYmVsPjwvbGk+Iik7ZCgiIyIrYisiIC5pc20tcmFkaW9zIGlucHV0LmlzbS1yYWRpbywgIyIrYisiIC5pc20tcmFkaW9zIC5pc20tcmFkaW8tbGFiZWwiKS5vbigiY2xpY2siLEgpO2QoIiMiK2IrIiAuaXNtLXJhZGlvcyBpbnB1dC5pc20tcmFkaW8sICMiK2IrIiAuaXNtLXJhZGlvcyAuaXNtLXJhZGlvLWxhYmVsIikub24oInRvdWNoc3RhcnQiLEgpfX1mdW5jdGlvbiBIKGEpe2EucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKTsNCmEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpO2E9ZChhLnRhcmdldC5wYXJlbnROb2RlKS5pbmRleCgpO3QoYSl9ZnVuY3Rpb24gWihhKXtmLnJhZGlvcyYmKGQoIiMiK2IrIiAuaXNtLXJhZGlvcyBsaSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxhPWQoIiMiK2IrIiAuaXNtLXJhZGlvcyBsaSIpLmdldChhKSxkKGEpLmFkZENsYXNzKCJhY3RpdmUiKSxkKGEpLmZpbmQoImlucHV0IikuYXR0cigiY2hlY2tlZCIsImNoZWNrZWQiKSl9ZnVuY3Rpb24gWSgpe2QoIiMiK2IrIiAuaXNtLXBhdXNlLWJ1dHRvbiIpLm9mZigiY2xpY2siLEkpO2QoIiMiK2IrIiAuaXNtLXBhdXNlLWJ1dHRvbiIpLm9mZigidG91Y2hzdGFydCIsSSl9ZnVuY3Rpb24gSShhKXthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKTtBP2coKTp2KCl9ZnVuY3Rpb24gZGEoKXt2YXIgYT1kKCIjIitiKS5nZXQoMCksYz1uLmdldCgwKTtxPW5ldyBEcmFnZGVhbGVyKGEsYyx7c3RlcHM6bSgpLA0KeDowLHNwZWVkOi4yLGxvb3NlOiEwLHJlcXVlc3RBbmltYXRpb25GcmFtZTohMCxkcmFnU3RhcnRDYWxsYmFjazpmdW5jdGlvbigpe2coKX0sZHJhZ1N0b3BDYWxsYmFjazpmdW5jdGlvbihhLGIpe25ld19zbGlkZV9pbmRleD1xLmdldFN0ZXAoKVswXS0xO2YucGF1c2VfYnV0dG9uP2coKTp2KCk7dmFyIGM9bmV3X3NsaWRlX2luZGV4LGQ9cDtwPWM7UCgiYWZ0ZXJzd2lwZSIsW2NdKTtaKGMpO0woZCxjLCExKX0sb25BZnRlckdsaWRlOmZ1bmN0aW9uKCl7cS5zZXRTdGVwKHArMSwxLCEwKX19KTt3aW5kb3cub25sb2FkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3EucmVmbG93KCl9LDE1MCk7c2V0VGltZW91dChmdW5jdGlvbigpe3EucmVmbG93KCl9LDYwMCl9fWZ1bmN0aW9uIGFhKCl7cSYmKHEuc2V0U3RlcChwKzEsMSwhMCkscS5yZWZsb3coKSl9ZnVuY3Rpb24gUChhLGIpe1FbYV0mJlFbYV0uYXBwbHkodGhpcyxiKX1mdW5jdGlvbiBTKGEsYyl7aWYoMT09Y3x8DQphIT1mLnRyYW5zaXRpb25fdHlwZSl7Zi50cmFuc2l0aW9uX3R5cGU9YTtkKCIjIitiKyIgLmlzbS1zbGlkZSIpLnJlbW92ZUNsYXNzKCJpc20tem9vbS1pbiIpO2QoIiMiK2IrIiAuaXNtLXNsaWRlIikuc2hvdygpO3ZhciBnPW0oKTtuLmNzcygid2lkdGgiLDEwMCpnKyIlIik7bi5maW5kKCIuaXNtLXNsaWRlIikuZWFjaChmdW5jdGlvbihhKXthPU4qYSsiJSI7dGhpcy5jc3MoIndpZHRoIiwxMDAvZysiJSIpO3RoaXMuY3NzKCJsZWZ0IixhKX0pfX1mdW5jdGlvbiB5KGEsYil7aWYoITAhPT1GJiZhIT1wKXtGPSEwO3ZhciBjPXA7YT1wYXJzZUludChhKTswPmE/YT1tKCktMTphPj1tKCkmJihhPTApO3ZhciBnPWE7WihnKTtwPWc7UCgiYmVmb3JldHJhbnNpdGlvbiIsW2ddKTsiaW5zdGFudCI9PWYudHJhbnNpdGlvbl90eXBlPyhnPWEscS5zZXRTdGVwKGcrMSwxLCEwKSxMKGMsZywhMCxiKSk6InNsaWRlIj09Zi50cmFuc2l0aW9uX3R5cGU/ZWEoYyxhLGIpOiJmYWRlIj09Zi50cmFuc2l0aW9uX3R5cGU/DQpiYShjLGEsITEsYik6Inpvb20iPT1mLnRyYW5zaXRpb25fdHlwZSYmYmEoYyxhLCEwLGIpfX1mdW5jdGlvbiBlYShhLGIsYyl7dmFyIGc9Yi8obSgpLTEpO3Euc3RhcnRTbGlkZShnLGZ1bmN0aW9uKCl7TChhLGIsITAsYyl9KX1mdW5jdGlvbiBiYShhLGMsZyxsKXtkKCIjIitiKyIgbGkuaXNtLXNsaWRlIikucmVtb3ZlQ2xhc3MoImlzbS16b29tLWluIik7dmFyIHQ9ZCgiIyIrYisiIGxpLmlzbS1zbGlkZS0iK2EpLGU9bi5jbG9uZSgpO2UuYWRkQ2xhc3MoImlzbS1zbGlkZXMtY2xvbmUiKTt2YXIgaD1jLyhtKCktMSksaD1xLmdldE9mZnNldHNCeVJhdGlvcyhbaCwwXSk7ZS5jc3MoInRyYW5zZm9ybSIsInRyYW5zbGF0ZVgoIitoWzBdKyJweCkiKTtlLmluc2VydEFmdGVyKG4uZWwpO2cmJnQuYWRkQ2xhc3MoImlzbS16b29tLWluIik7Zz1lLmdldCgwKTtuLmZhZGVJbnRvKGcsMipmLnRyYW5zaXRpb25fZHVyYXRpb24sZnVuY3Rpb24oKXtxLnNldFN0ZXAoYysxLDEsITApO2QoIiMiKw0KYisiIC5pc20tc2xpZGVzLWNsb25lIikucmVtb3ZlKCk7ZCgiIyIrYisiIC5pc20tc2xpZGVzIikuc2hvdygpO2QoIiMiK2IrIiAuaXNtLXNsaWRlcyIpLmNzcygib3BhY2l0eSIsbnVsbCk7TChhLGMsITAsbCl9KX1mdW5jdGlvbiBMKGEsYyxnLGwpe2M9cGFyc2VJbnQoYyk7ZCgiIyIrYisiIC5pc20tc2xpZGVzLWNsb25lIikucmVtb3ZlKCk7ZCgiIyIrYisiIC5pc20tc2xpZGVzIikuc2hvdygpO2QoIiMiK2IrIiBsaS5pc20tc2xpZGUiKS5yZW1vdmVDbGFzcygiaXNtLXpvb20taW4iKTtnJiZhYSgpO2wmJmwoKTtPKGMpO1UoYyk7Rj0hMTtQKCJhZnRlcnRyYW5zaXRpb24iLFtjXSl9ZnVuY3Rpb24gTyhhKXtXKCk7Im5vbmUiIT1mLmltYWdlX2Z4JiYoInpvb21wYW4iPT1mLmltYWdlX2Z4P2QoIiMiK2IrIiAuaXNtLXNsaWRlLSIrYSsiIC5pc20taW1nLWZyYW1lIikuYWRkQ2xhc3MoImlzbS16b29tLXBhbiIpOiJ6b29tcm90YXRlIj09Zi5pbWFnZV9meCYmZCgiIyIrYisiIC5pc20tc2xpZGUtIisNCmErIiAuaXNtLWltZy1mcmFtZSIpLmFkZENsYXNzKCJpc20tem9vbS1yb3RhdGUiKSl9ZnVuY3Rpb24gVygpe2QoIiMiK2IrIiAuaXNtLXNsaWRlIC5pc20taW1nLWZyYW1lIikucmVtb3ZlQ2xhc3MoImlzbS16b29tLXBhbiIpO2QoIiMiK2IrIiAuaXNtLXNsaWRlIC5pc20taW1nLWZyYW1lIikucmVtb3ZlQ2xhc3MoImlzbS16b29tLXJvdGF0ZSIpfWZ1bmN0aW9uIFUoYSl7bi5maW5kKCIuaXNtLWNhcHRpb24iKS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKTtuLmZpbmQoIi5pc20tY2FwdGlvbiIpLnJlbW92ZUNsYXNzKCJpc20tY2FwdGlvbi1hbmltIik7UihhLDApO1IoYSwxKTtSKGEsMil9ZnVuY3Rpb24gUihhLGIpe2YuY2FwdGlvbnNbYV0mJjE9PWYuY2FwdGlvbnNbYV1bYl0uZW5hYmxlJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5maW5kKCIuaXNtLXNsaWRlLSIrYSsiIC5pc20tY2FwdGlvbi0iK2IpLmNzcygidmlzaWJpbGl0eSIsInZpc2libGUiKTtuLmZpbmQoIi5pc20tc2xpZGUtIisNCmErIiAuaXNtLWNhcHRpb24tIitiKS5hZGRDbGFzcygiaXNtLWNhcHRpb24tYW5pbSIpfSxmLmNhcHRpb25zW2FdW2JdLmRlbGF5KX12YXIgRz17dHJhbnNpdGlvbl90eXBlOiJzbGlkZSIscGxheV90eXBlOiJtYW51YWwiLGludGVydmFsOjdFMyxpbWFnZV9meDoibm9uZSIsYnV0dG9uczohMCxyYWRpb3M6ITAscmFkaW9fdHlwZToiYnV0dG9uIixwYXVzZV9idXR0b246ITAsdHJhbnNpdGlvbl9kdXJhdGlvbjozNTAsc3dpcGU6ITB9LFY9W3tlbmFibGU6ITEsZGVsYXk6MH0se2VuYWJsZTohMSxkZWxheToyMDB9LHtlbmFibGU6ITEsZGVsYXk6NDAwfV0sZixuLE4scCxFLEQseixDLEEsQixGLHEsUT17fTtsKGMsITEsYy5wcmV2ZW50X3N0b3BfbG9hZGluZ3x8ITEpO3RoaXMuaW5pdD1sO3RoaXMuZGVpbml0PXI7dGhpcy5zdG9wTG9hZGluZz1oO3RoaXMudHJhbnNpdGlvbj15O3RoaXMubGlzdGVuPWZ1bmN0aW9uKGEsYil7UVthXT1ifTt0aGlzLnJlZmxvdz1hYTt0aGlzLnNldFRyYW5zaXRpb25UeXBlPQ0KUzt0aGlzLnNldFBsYXlUeXBlPXg7dGhpcy5zZXRJbnRlcnZhbD1mdW5jdGlvbihhKXtmLmludGVydmFsPWF9O3RoaXMuc2V0SW1hZ2VGeD1mdW5jdGlvbihhKXthIT1mLmltYWdlX2Z4PyhmLmltYWdlX2Z4PWEsTyhwKSk6Zi5pbWFnZV9meD1hfTt0aGlzLnNldENhcHRpb25FbmFibGU9ZnVuY3Rpb24oYSxiLGMpe2YuY2FwdGlvbnNbYV1bYl0uZW5hYmxlPWN9O3RoaXMuc2V0Q2FwdGlvbkRlbGF5PWZ1bmN0aW9uKGEsYixjKXtmLmNhcHRpb25zW2FdW2JdLmRlbGF5PWN9O3RoaXMuZW5hYmxlQnV0dG9ucz1mdW5jdGlvbihhKXshMCE9PWF8fGYuYnV0dG9uc3x8KFgoKSxkKCIjIitiKyIgLmlzbS1idXR0b24iKS5yZW1vdmUoKSxUKCkpfTt0aGlzLmVuYWJsZVJhZGlvcz1mdW5jdGlvbihhKXt9O3RoaXMuc2V0UmFkaW9UeXBlPWZ1bmN0aW9uKGEpeyJ0aHVtYm5haWwiPT1hP2QoIiMiK2IrIiAuaXNtLXJhZGlvcyIpLmFkZENsYXNzKCJpc20tcmFkaW9zLWFzLXRodW1ibmFpbHMiKTpkKCIjIisNCmIrIiAuaXNtLXJhZGlvcyIpLnJlbW92ZUNsYXNzKCJpc20tcmFkaW9zLWFzLXRodW1ibmFpbHMiKX07dGhpcy5nZXRTbGlkZUNvdW50PW07dGhpcy5nZXRBY3RpdmVTbGlkZUluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHB9O3RoaXMuc2V0RWxlbWVudElkPWZ1bmN0aW9uKGEpe2I9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYikuaWQ9YX19ZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLm5vZGVzW2JdfTtlLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGIpe2I9dGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKGIpO3JldHVybiBuZXcgZShudWxsLGIpfTtlLnByb3RvdHlwZS5pbmRleD1mdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLmVsLGM9MDtudWxsIT0oYj1iLnByZXZpb3VzU2libGluZyk7KWMrKztyZXR1cm4gY307ZS5wcm90b3R5cGUuZWFjaD1mdW5jdGlvbihiKXtmb3IodmFyIGM9MDtjPHRoaXMubm9kZXMubGVuZ3RoO2MrKyl7dmFyIGQ9bmV3IGUodGhpcy5ub2Rlc1tjXSk7DQpiLmNhbGwoZCxjLGQpfX07ZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPTA7Yjx0aGlzLm5vZGVzLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMubm9kZXNbYl07Yy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfX07ZS5wcm90b3R5cGUucmVtb3ZlQXR0cj1mdW5jdGlvbihiKXtmb3IodmFyIGM9MDtjPHRoaXMubm9kZXMubGVuZ3RoO2MrKyl0aGlzLm5vZGVzW2NdLnJlbW92ZUF0dHJpYnV0ZShiKX07ZS5wcm90b3R5cGUuYXR0cj1mdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuZWw7aWYodm9pZCAwIT1jKWQuc2V0QXR0cmlidXRlKGIsYyk7ZWxzZSByZXR1cm4gZC5nZXRBdHRyaWJ1dGUoYil9O2UucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWwuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYil9O2UucHJvdG90eXBlLmhhc0NsYXNzPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZWw7cmV0dXJuIGMuY2xhc3NMaXN0P2MuY2xhc3NMaXN0LmNvbnRhaW5zKGIpOg0KKG5ldyBSZWdFeHAoIihefCApIitiKyIoIHwkKSIsImdpIikpLnRlc3QoYy5jbGFzc05hbWUpfTtlLnByb3RvdHlwZS5hZGRDbGFzcz1mdW5jdGlvbihiKXtmb3IodmFyIGM9MDtjPHRoaXMubm9kZXMubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5ub2Rlc1tjXTtkLmNsYXNzTGlzdD9kLmNsYXNzTGlzdC5hZGQoYik6ZC5jbGFzc05hbWUrPSIgIitifX07ZS5wcm90b3R5cGUucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTA7Yzx0aGlzLm5vZGVzLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMubm9kZXNbY107ZC5jbGFzc0xpc3Q/ZC5jbGFzc0xpc3QucmVtb3ZlKGIuc3BsaXQoIiAiKSk6ZC5jbGFzc05hbWU9ZC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCIoXnxcXGIpIitiLnNwbGl0KCIgIikuam9pbigifCIpKyIoXFxifCQpIiwiZ2kiKSwiICIpfX07ZS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe2Zvcih2YXIgYj0wO2I8dGhpcy5ub2Rlcy5sZW5ndGg7YisrKXt2YXIgYz0NCnRoaXMubm9kZXNbYl07YyYmYy5zdHlsZSYmKGMuc3R5bGUuZGlzcGxheT0iIil9fTtlLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPTA7Yjx0aGlzLm5vZGVzLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuZWw7YyYmYy5zdHlsZSYmKGMuc3R5bGUuZGlzcGxheT0ibm9uZSIpfX07ZS5wcm90b3R5cGUuY3NzPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPTA7ZDx0aGlzLm5vZGVzLmxlbmd0aDtkKyspdGhpcy5ub2Rlc1tkXS5zdHlsZVtiXT1jfTtlLnByb3RvdHlwZS5mYWRlT3V0PWZ1bmN0aW9uKGIsYyl7ZS5jcm9zc0ZhZGUodGhpcy5lbCxudWxsLGIsYyl9O2UucHJvdG90eXBlLmZhZGVJbj1mdW5jdGlvbihiLGMpe2UuY3Jvc3NGYWRlKG51bGwsdGhpcy5lbCxiLGMpfTtlLnByb3RvdHlwZS5mYWRlSW50bz1mdW5jdGlvbihiLGMsZCl7ZS5jcm9zc0ZhZGUodGhpcy5lbCxiLGMsZCl9O2UuY3Jvc3NGYWRlPWZ1bmN0aW9uKGIsYyxkLGUpe2I9Ynx8e3N0eWxlOnt9fTtjPQ0KY3x8e3N0eWxlOnt9fTtkPWR8fDQwMDt2YXIgaD0xLGs9MDtiLnN0eWxlLm9wYWNpdHk9aDtjLnN0eWxlLm9wYWNpdHk9aztiLnN0eWxlLmZpbHRlcj0iIjtjLnN0eWxlLmZpbHRlcj0iIjt2YXIgcj0rbmV3IERhdGUsdSxtPWZ1bmN0aW9uKCl7dT0obmV3IERhdGUtcikvZDtoLT11O2srPXU7Yi5zdHlsZS5vcGFjaXR5PWg7Yy5zdHlsZS5vcGFjaXR5PWs7Yi5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IisxMDAqaHxOYU47Yy5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IisxMDAqa3xOYU47cj0rbmV3IERhdGU7MDxoP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJnJlcXVlc3RBbmltYXRpb25GcmFtZShtKXx8c2V0VGltZW91dChtLDE2KTooYi5zdHlsZS5vcGFjaXR5PTAsYy5zdHlsZS5vcGFjaXR5PTEsYi5zdHlsZS5maWx0ZXI9IiIsYy5zdHlsZS5maWx0ZXI9IiIsZSYmZSgpKX07bSgpfTtlLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wO2M8DQp0aGlzLm5vZGVzLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMubm9kZXNbY10saz0obmV3IGUoZCkpLmluZGV4KCksaD1kLm91dGVySFRNTCx3PWQucGFyZW50Tm9kZTtkLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlYmVnaW4iLGIpO3cucmVtb3ZlQ2hpbGQoZCk7dy5jaGlsZE5vZGVzW2tdLmlubmVySFRNTD1ofX07ZS5wcm90b3R5cGUud3JhcElubmVyPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZWwsZD1jLmlubmVySFRNTDtjLmlubmVySFRNTD1iO2MuZmlyc3RDaGlsZC5pbm5lckhUTUw9ZH07ZS5wcm90b3R5cGUudW53cmFwPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbDtiLnBhcmVudE5vZGUub3V0ZXJIVE1MPWIucGFyZW50Tm9kZS5pbm5lckhUTUx9O2UucHJvdG90eXBlLmFmdGVyPWZ1bmN0aW9uKGIpe3RoaXMuZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCJhZnRlcmVuZCIsYil9O2UucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihiKXt0aGlzLmVsLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIiwNCmIpfTtlLnByb3RvdHlwZS5pbnNlcnRBZnRlcj1mdW5jdGlvbihiKXtiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuZWwsYi5uZXh0U2libGluZyl9O2UucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMuZWwuY2xvbmVOb2RlKCEwKSl9O2UucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPTA7ZDx0aGlzLm5vZGVzLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMubm9kZXNbZF07ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihiLGMpOmUuYXR0YWNoRXZlbnQoIm9uIitiLGZ1bmN0aW9uKCl7Yy5jYWxsKGUpfSl9fTtlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9MDtkPHRoaXMubm9kZXMubGVuZ3RoO2QrKyl7dmFyIGU9dGhpcy5ub2Rlc1tkXTtlJiYoZS5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMpOmUuZGV0YWNoRXZlbnQoIm9uIitiLGMpKX19O2QucmVhZHk9DQpmdW5jdGlvbihiKXsiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KGIsMSk6ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixiLCExKTpkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpeyJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZiKCl9KX07d2luZG93LklTTT13aW5kb3cuSVNNfHx7fTt3aW5kb3cuSVNNLlNsaWRlcj1rO3dpbmRvdy5JU00uQ29uZmlnPXdpbmRvdy5JU00uQ29uZmlnfHx7fTt3aW5kb3cuSVNNLmluc3RhbmNlcz1bXTtkLnJlYWR5KGZ1bmN0aW9uKCl7aWYoITAhPT13aW5kb3cuSVNNLkNvbmZpZy5ub19pbnN0YW50aWF0aW9uKWZvcih2YXIgYj1kKCIuaXNtLXNsaWRlciIpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9Yi5nZXQoYyk7ZS5pZD1lLmlkfHwiaXNtLXNsaWRlci0iK2M7d2luZG93LklTTS5pbnN0YW5jZXMucHVzaChuZXcgayhlLmlkLA0Ke30pKX19KX0pKCk7DQooZnVuY3Rpb24oZSxkKXsiZnVuY3Rpb24iPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZCk6ZS5EcmFnZGVhbGVyPWQoKX0pKHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGEpe3ZhciBiPVsiV2Via2l0IiwiTW96IiwibXMiLCJPIl0sYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7aWYodm9pZCAwIT09Y1thXSlyZXR1cm4gYTthPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSk7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspaWYodm9pZCAwIT09Y1tiW2RdK2FdKXJldHVybiBiW2RdK2F9dmFyIGQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucz10aGlzLmFwcGx5RGVmYXVsdHMoY3x8e30pO3RoaXMuYmluZE1ldGhvZHMoKTt0aGlzLndyYXBwZXI9YTt0aGlzLmhhbmRsZT1iO3RoaXMuaW5pdCgpO3RoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9O2QucHJvdG90eXBlPXtkZWZhdWx0czp7ZGlzYWJsZWQ6ITEsaG9yaXpvbnRhbDohMCwNCnZlcnRpY2FsOiExLHNsaWRlOiEwLHN0ZXBzOjAsc25hcDohMSxsb29zZTohMSxzcGVlZDouMSx4UHJlY2lzaW9uOjAseVByZWNpc2lvbjowLGFjdGl2ZUNsYXNzOiJhY3RpdmUiLGNzczM6ITAsdGFwcGluZzohMCxhZnRlclN3aXBlQ2FsbGJhY2s6ZnVuY3Rpb24oKXt9fSxpbml0OmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmNzczMpe3ZhciBhPXRoaXMuaGFuZGxlO3IuYmFja2ZhY2VWaXNpYmlsaXR5JiZyLnBlcnNwZWN0aXZlJiYoYS5zdHlsZVtyLnBlcnNwZWN0aXZlXT0iMTAwMHB4IixhLnN0eWxlW3IuYmFja2ZhY2VWaXNpYmlsaXR5XT0iaGlkZGVuIil9dGhpcy52YWx1ZT17cHJldjpbLTEsLTFdLGN1cnJlbnQ6W3RoaXMub3B0aW9ucy54fHwwLHRoaXMub3B0aW9ucy55fHwwXSx0YXJnZXQ6W3RoaXMub3B0aW9ucy54fHwwLHRoaXMub3B0aW9ucy55fHwwXX07dGhpcy5vZmZzZXQ9e3dyYXBwZXI6WzAsMF0sbW91c2U6WzAsMF0scHJldjpbLTk5OTk5OSwtOTk5OTk5XSxjdXJyZW50OlswLA0KMF0sdGFyZ2V0OlswLDBdfTt0aGlzLmNoYW5nZT1bMCwwXTt0aGlzLnN0ZXBSYXRpb3M9dGhpcy5jYWxjdWxhdGVTdGVwUmF0aW9zKCk7dGhpcy5zbGlkaW5nPXRoaXMudGFwcGluZz10aGlzLmRyYWdnaW5nPXRoaXMuYWN0aXZpdHk9ITE7dGhpcy5zbGlkZV9jb3VudD0wO3RoaXMucmVmbG93KCk7dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmRpc2FibGUoKX0sYXBwbHlEZWZhdWx0czpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gdGhpcy5kZWZhdWx0cylhLmhhc093blByb3BlcnR5KGIpfHwoYVtiXT10aGlzLmRlZmF1bHRzW2JdKTtyZXR1cm4gYX0sY2FsY3VsYXRlU3RlcFJhdGlvczpmdW5jdGlvbigpe3ZhciBhPVtdO2lmKDE8PXRoaXMub3B0aW9ucy5zdGVwcylmb3IodmFyIGI9MDtiPD10aGlzLm9wdGlvbnMuc3RlcHMtMTtiKyspYVtiXT0xPHRoaXMub3B0aW9ucy5zdGVwcz9iLyh0aGlzLm9wdGlvbnMuc3RlcHMtMSk6MDtyZXR1cm4gYX0sc2V0V3JhcHBlck9mZnNldDpmdW5jdGlvbigpe3RoaXMub2Zmc2V0LndyYXBwZXI9DQp3LmdldCh0aGlzLndyYXBwZXIpfSxjYWxjdWxhdGVCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgYT17dG9wOnRoaXMub3B0aW9ucy50b3B8fDAsYm90dG9tOi0odGhpcy5vcHRpb25zLmJvdHRvbXx8MCkrdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodCxsZWZ0OnRoaXMub3B0aW9ucy5sZWZ0fHwwLHJpZ2h0Oi0odGhpcy5vcHRpb25zLnJpZ2h0fHwwKSt0aGlzLndyYXBwZXIub2Zmc2V0V2lkdGh9O2EuYXZhaWxXaWR0aD1hLnJpZ2h0LWEubGVmdC10aGlzLmhhbmRsZS5vZmZzZXRXaWR0aDthLmF2YWlsSGVpZ2h0PWEuYm90dG9tLWEudG9wLXRoaXMuaGFuZGxlLm9mZnNldEhlaWdodDtyZXR1cm4gYX0sY2FsY3VsYXRlVmFsdWVQcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMueFByZWNpc2lvbnx8TWF0aC5hYnModGhpcy5ib3VuZHMuYXZhaWxXaWR0aCksYj10aGlzLm9wdGlvbnMueVByZWNpc2lvbnx8TWF0aC5hYnModGhpcy5ib3VuZHMuYXZhaWxIZWlnaHQpO3JldHVyblthPw0KMS9hOjAsYj8xL2I6MF19LGJpbmRNZXRob2RzOmZ1bmN0aW9uKCl7dGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLm9wdGlvbnMuY3VzdG9tUmVxdWVzdEFuaW1hdGlvbkZyYW1lP2sodGhpcy5vcHRpb25zLmN1c3RvbVJlcXVlc3RBbmltYXRpb25GcmFtZSx3aW5kb3cpOmsobSx3aW5kb3cpO3RoaXMuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ImZ1bmN0aW9uIj09PXR5cGVvZiB0aGlzLm9wdGlvbnMuY3VzdG9tQ2FuY2VsQW5pbWF0aW9uRnJhbWU/ayh0aGlzLm9wdGlvbnMuY3VzdG9tQ2FuY2VsQW5pbWF0aW9uRnJhbWUsd2luZG93KTprKHgsd2luZG93KTt0aGlzLmFuaW1hdGVXaXRoUmVxdWVzdEFuaW1hdGlvbkZyYW1lPWsodGhpcy5hbmltYXRlV2l0aFJlcXVlc3RBbmltYXRpb25GcmFtZSx0aGlzKTt0aGlzLmFuaW1hdGU9ayh0aGlzLmFuaW1hdGUsdGhpcyk7dGhpcy5vbkhhbmRsZU1vdXNlRG93bj1rKHRoaXMub25IYW5kbGVNb3VzZURvd24sDQp0aGlzKTt0aGlzLm9uSGFuZGxlVG91Y2hTdGFydD1rKHRoaXMub25IYW5kbGVUb3VjaFN0YXJ0LHRoaXMpO3RoaXMub25Eb2N1bWVudE1vdXNlTW92ZT1rKHRoaXMub25Eb2N1bWVudE1vdXNlTW92ZSx0aGlzKTt0aGlzLm9uV3JhcHBlclRvdWNoTW92ZT1rKHRoaXMub25XcmFwcGVyVG91Y2hNb3ZlLHRoaXMpO3RoaXMub25XcmFwcGVyTW91c2VEb3duPWsodGhpcy5vbldyYXBwZXJNb3VzZURvd24sdGhpcyk7dGhpcy5vbldyYXBwZXJUb3VjaFN0YXJ0PWsodGhpcy5vbldyYXBwZXJUb3VjaFN0YXJ0LHRoaXMpO3RoaXMub25Eb2N1bWVudE1vdXNlVXA9ayh0aGlzLm9uRG9jdW1lbnRNb3VzZVVwLHRoaXMpO3RoaXMub25Eb2N1bWVudFRvdWNoRW5kPWsodGhpcy5vbkRvY3VtZW50VG91Y2hFbmQsdGhpcyk7dGhpcy5vbkhhbmRsZUNsaWNrPWsodGhpcy5vbkhhbmRsZUNsaWNrLHRoaXMpO3RoaXMub25XaW5kb3dSZXNpemU9ayh0aGlzLm9uV2luZG93UmVzaXplLHRoaXMpfSxiaW5kRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtiKHRoaXMuaGFuZGxlLA0KIm1vdXNlZG93biIsdGhpcy5vbkhhbmRsZU1vdXNlRG93bik7Yih0aGlzLmhhbmRsZSwidG91Y2hzdGFydCIsdGhpcy5vbkhhbmRsZVRvdWNoU3RhcnQpO2IoZG9jdW1lbnQsIm1vdXNlbW92ZSIsdGhpcy5vbkRvY3VtZW50TW91c2VNb3ZlKTtiKHRoaXMud3JhcHBlciwidG91Y2htb3ZlIix0aGlzLm9uV3JhcHBlclRvdWNoTW92ZSk7Yih0aGlzLndyYXBwZXIsIm1vdXNlZG93biIsdGhpcy5vbldyYXBwZXJNb3VzZURvd24pO2IodGhpcy53cmFwcGVyLCJ0b3VjaHN0YXJ0Iix0aGlzLm9uV3JhcHBlclRvdWNoU3RhcnQpO2IoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMub25Eb2N1bWVudE1vdXNlVXApO2IoZG9jdW1lbnQsInRvdWNoZW5kIix0aGlzLm9uRG9jdW1lbnRUb3VjaEVuZCk7Yih0aGlzLmhhbmRsZSwiY2xpY2siLHRoaXMub25IYW5kbGVDbGljayk7Yih3aW5kb3csInJlc2l6ZSIsdGhpcy5vbldpbmRvd1Jlc2l6ZSk7dGhpcy5hbmltYXRlKCExLCEwKTt0aGlzLmludGVydmFsPQ0KdGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlV2l0aFJlcXVlc3RBbmltYXRpb25GcmFtZSl9LHVuYmluZEV2ZW50TGlzdGVuZXJzOmZ1bmN0aW9uKCl7Yyh0aGlzLmhhbmRsZSwibW91c2Vkb3duIix0aGlzLm9uSGFuZGxlTW91c2VEb3duKTtjKHRoaXMuaGFuZGxlLCJ0b3VjaHN0YXJ0Iix0aGlzLm9uSGFuZGxlVG91Y2hTdGFydCk7Yyhkb2N1bWVudCwibW91c2Vtb3ZlIix0aGlzLm9uRG9jdW1lbnRNb3VzZU1vdmUpO2ModGhpcy53cmFwcGVyLCJ0b3VjaG1vdmUiLHRoaXMub25XcmFwcGVyVG91Y2hNb3ZlKTtjKHRoaXMud3JhcHBlciwibW91c2Vkb3duIix0aGlzLm9uV3JhcHBlck1vdXNlRG93bik7Yyh0aGlzLndyYXBwZXIsInRvdWNoc3RhcnQiLHRoaXMub25XcmFwcGVyVG91Y2hTdGFydCk7Yyhkb2N1bWVudCwibW91c2V1cCIsdGhpcy5vbkRvY3VtZW50TW91c2VVcCk7Yyhkb2N1bWVudCwidG91Y2hlbmQiLHRoaXMub25Eb2N1bWVudFRvdWNoRW5kKTtjKHRoaXMuaGFuZGxlLA0KImNsaWNrIix0aGlzLm9uSGFuZGxlQ2xpY2spO2Mod2luZG93LCJyZXNpemUiLHRoaXMub25XaW5kb3dSZXNpemUpO3RoaXMuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5pbnRlcnZhbCl9LG9uSGFuZGxlTW91c2VEb3duOmZ1bmN0aW9uKGEpe2EudGFyZ2V0JiYiQSI9PWEudGFyZ2V0LnRhZ05hbWUmJjA8PWEudGFyZ2V0LmNsYXNzTmFtZS5zZWFyY2goL2lzbS1jYXB0aW9uLykmJihkb2N1bWVudC5sb2NhdGlvbj1hLnRhcmdldC5ocmVmKTtoLnJlZnJlc2goYSk7bChhKTtNKGEpO3RoaXMuYWN0aXZpdHk9ITE7dGhpcy5zdGFydERyYWcoKX0sb25IYW5kbGVUb3VjaFN0YXJ0OmZ1bmN0aW9uKGEpe2EudGFyZ2V0JiYiQSI9PWEudGFyZ2V0LnRhZ05hbWUmJjA8PWEudGFyZ2V0LmNsYXNzTmFtZS5zZWFyY2goL2lzbS1jYXB0aW9uLykmJihkb2N1bWVudC5sb2NhdGlvbj1hLnRhcmdldC5ocmVmKTtoLnJlZnJlc2goYSk7TShhKTt0aGlzLmFjdGl2aXR5PSExO3RoaXMuc3RhcnREcmFnKCl9LA0Kb25Eb2N1bWVudE1vdXNlTW92ZTpmdW5jdGlvbihhKXtoLnJlZnJlc2goYSk7dGhpcy5kcmFnZ2luZyYmKHRoaXMuYWN0aXZpdHk9ITAsbChhKSl9LG9uV3JhcHBlclRvdWNoTW92ZTpmdW5jdGlvbihhKXtoLnJlZnJlc2goYSk7IXRoaXMuYWN0aXZpdHkmJnRoaXMuZHJhZ2dpbmdPbkRpc2FibGVkQXhpcygpP3RoaXMuZHJhZ2dpbmcmJnRoaXMuc3RvcERyYWcoKToobChhKSx0aGlzLmFjdGl2aXR5PSEwKX0sb25XcmFwcGVyTW91c2VEb3duOmZ1bmN0aW9uKGEpe2EudGFyZ2V0JiYwPD1hLnRhcmdldC5jbGFzc05hbWUuc2VhcmNoKC9pc20tKGJ1dHRvbnxyYWRpb3xjYXB0aW9uKS8pfHwoaC5yZWZyZXNoKGEpLGwoYSksdGhpcy5zdGFydFRhcCgpKX0sb25XcmFwcGVyVG91Y2hTdGFydDpmdW5jdGlvbihhKXtoLnJlZnJlc2goYSk7bChhKTt0aGlzLnN0YXJ0VGFwKCl9LG9uRG9jdW1lbnRNb3VzZVVwOmZ1bmN0aW9uKGEpe3RoaXMuc3RvcERyYWcoKTt0aGlzLnN0b3BUYXAoKTthLnRhcmdldCYmDQowPD1hLnRhcmdldC5jbGFzc05hbWUuc2VhcmNoKC9pc20tKGJ1dHRvbnxyYWRpb3xjYXB0aW9uKS8pfHx0aGlzLm9wdGlvbnMuYWZ0ZXJTd2lwZUNhbGxiYWNrKCl9LG9uRG9jdW1lbnRUb3VjaEVuZDpmdW5jdGlvbihhKXt0aGlzLnN0b3BEcmFnKCk7dGhpcy5zdG9wVGFwKCk7dGhpcy5vcHRpb25zLmFmdGVyU3dpcGVDYWxsYmFjaygpfSxvbkhhbmRsZUNsaWNrOmZ1bmN0aW9uKGEpe2EudGFyZ2V0JiYwPD1hLnRhcmdldC5jbGFzc05hbWUuc2VhcmNoKC9pc20tKGJ1dHRvbnxyYWRpbykvKXx8IXRoaXMuYWN0aXZpdHl8fChsKGEpLE0oYSkpfSxvbldpbmRvd1Jlc2l6ZTpmdW5jdGlvbihhKXt0aGlzLnJlZmxvdygpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSExO3RoaXMuaGFuZGxlLmNsYXNzTmFtZT10aGlzLmhhbmRsZS5jbGFzc05hbWUucmVwbGFjZSgvXHM/ZGlzYWJsZWQvZywiIil9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwO3RoaXMuaGFuZGxlLmNsYXNzTmFtZSs9DQoiIGRpc2FibGVkIn0scmVmbG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRXcmFwcGVyT2Zmc2V0KCk7dGhpcy5ib3VuZHM9dGhpcy5jYWxjdWxhdGVCb3VuZHMoKTt0aGlzLnZhbHVlUHJlY2lzaW9uPXRoaXMuY2FsY3VsYXRlVmFsdWVQcmVjaXNpb24oKTt0aGlzLnVwZGF0ZU9mZnNldEZyb21WYWx1ZSgpfSxnZXRTdGVwOmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuZ2V0U3RlcE51bWJlcih0aGlzLnZhbHVlLnRhcmdldFswXSksdGhpcy5nZXRTdGVwTnVtYmVyKHRoaXMudmFsdWUudGFyZ2V0WzFdKV19LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWUudGFyZ2V0fSxzZXRTdGVwOmZ1bmN0aW9uKGEsYixjKXt0aGlzLnNldFZhbHVlKHRoaXMub3B0aW9ucy5zdGVwcyYmMTxhPyhhLTEpLyh0aGlzLm9wdGlvbnMuc3RlcHMtMSk6MCx0aGlzLm9wdGlvbnMuc3RlcHMmJjE8Yj8oYi0xKS8odGhpcy5vcHRpb25zLnN0ZXBzLTEpOjAsYyl9LHNldFZhbHVlOmZ1bmN0aW9uKGEsYiwNCmMpe3RoaXMuc2V0VGFyZ2V0VmFsdWUoW2EsYnx8MF0pO2MmJih0aGlzLmdyb3VwQ29weSh0aGlzLnZhbHVlLmN1cnJlbnQsdGhpcy52YWx1ZS50YXJnZXQpLHRoaXMudXBkYXRlT2Zmc2V0RnJvbVZhbHVlKCksdGhpcy5jYWxsQW5pbWF0aW9uQ2FsbGJhY2soKSl9LHN0YXJ0VGFwOmZ1bmN0aW9uKCl7IXRoaXMuZGlzYWJsZWQmJnRoaXMub3B0aW9ucy50YXBwaW5nJiYodGhpcy50YXBwaW5nPSEwLHRoaXMuc2V0V3JhcHBlck9mZnNldCgpLHRoaXMuc2V0VGFyZ2V0VmFsdWVCeU9mZnNldChbaC54LXRoaXMub2Zmc2V0LndyYXBwZXJbMF0tdGhpcy5oYW5kbGUub2Zmc2V0V2lkdGgvMixoLnktdGhpcy5vZmZzZXQud3JhcHBlclsxXS10aGlzLmhhbmRsZS5vZmZzZXRIZWlnaHQvMl0pKX0sc3RvcFRhcDpmdW5jdGlvbigpeyF0aGlzLmRpc2FibGVkJiZ0aGlzLnRhcHBpbmcmJih0aGlzLnRhcHBpbmc9ITEsdGhpcy5zZXRUYXJnZXRWYWx1ZSh0aGlzLnZhbHVlLmN1cnJlbnQpKX0sc3RhcnREcmFnOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZHx8DQoodGhpcy5kcmFnZ2luZz0hMCx0aGlzLmludGVydmFsPXRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZVdpdGhSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLHRoaXMuc2V0V3JhcHBlck9mZnNldCgpLHRoaXMub2Zmc2V0Lm1vdXNlPVtoLngtdy5nZXQodGhpcy5oYW5kbGUpWzBdLGgueS13LmdldCh0aGlzLmhhbmRsZSlbMV1dLHRoaXMud3JhcHBlci5jbGFzc05hbWUubWF0Y2godGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKXx8KHRoaXMud3JhcHBlci5jbGFzc05hbWUrPSIgIit0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpLHRoaXMuY2FsbERyYWdTdGFydENhbGxiYWNrKCkpfSxzdG9wRHJhZzpmdW5jdGlvbigpe2lmKCF0aGlzLmRpc2FibGVkJiZ0aGlzLmRyYWdnaW5nKXt0aGlzLmRyYWdnaW5nPSExO3ZhciBhPXRoaXMuZ3JvdXBDbG9uZSh0aGlzLnZhbHVlLmN1cnJlbnQpO2lmKHRoaXMub3B0aW9ucy5zbGlkZSl7dmFyIGI9dGhpcy5jaGFuZ2U7YVswXSs9NCpiWzBdOw0KYVsxXSs9NCpiWzFdfXRoaXMuc2V0VGFyZ2V0VmFsdWUoYSk7dGhpcy53cmFwcGVyLmNsYXNzTmFtZT10aGlzLndyYXBwZXIuY2xhc3NOYW1lLnJlcGxhY2UoIiAiK3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcywiIik7dGhpcy5jYWxsRHJhZ1N0b3BDYWxsYmFjaygpfX0sY2FsbEFuaW1hdGlvbkNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZS5jdXJyZW50O3RoaXMub3B0aW9ucy5zbmFwJiYxPHRoaXMub3B0aW9ucy5zdGVwcyYmKGE9dGhpcy5nZXRDbG9zZXN0U3RlcHMoYSkpO3RoaXMuZ3JvdXBDb21wYXJlKGEsdGhpcy52YWx1ZS5wcmV2KXx8KCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uQ2FsbGJhY2smJnRoaXMub3B0aW9ucy5hbmltYXRpb25DYWxsYmFjay5jYWxsKHRoaXMsYVswXSxhWzFdKSx0aGlzLmdyb3VwQ29weSh0aGlzLnZhbHVlLnByZXYsYSkpfSxjYWxsVGFyZ2V0Q2FsbGJhY2s6ZnVuY3Rpb24oKXsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbGxiYWNrJiYNCnRoaXMub3B0aW9ucy5jYWxsYmFjay5jYWxsKHRoaXMsdGhpcy52YWx1ZS50YXJnZXRbMF0sdGhpcy52YWx1ZS50YXJnZXRbMV0pfSxjYWxsRHJhZ1N0YXJ0Q2FsbGJhY2s6ZnVuY3Rpb24oKXsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLmRyYWdTdGFydENhbGxiYWNrJiZ0aGlzLm9wdGlvbnMuZHJhZ1N0YXJ0Q2FsbGJhY2suY2FsbCh0aGlzLHRoaXMudmFsdWUudGFyZ2V0WzBdLHRoaXMudmFsdWUudGFyZ2V0WzFdKX0sY2FsbERyYWdTdG9wQ2FsbGJhY2s6ZnVuY3Rpb24oKXsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLmRyYWdTdG9wQ2FsbGJhY2smJnRoaXMub3B0aW9ucy5kcmFnU3RvcENhbGxiYWNrLmNhbGwodGhpcyx0aGlzLnZhbHVlLnRhcmdldFswXSx0aGlzLnZhbHVlLnRhcmdldFsxXSl9LHN0YXJ0U2xpZGU6ZnVuY3Rpb24oYSxiKXt0aGlzLnNsaWRlX2NhbGxiYWNrPWI7dGhpcy5zbGlkaW5nPSEwO3RoaXMudmFsdWUudGFyZ2V0WzBdPWE7dGhpcy5zbGlkZV9zdGFydD0NCnRoaXMudmFsdWUuY3VycmVudFswXTt0aGlzLnN0ZXBfc2l6ZT1NYXRoLmFicyh0aGlzLnZhbHVlLnRhcmdldFswXS10aGlzLnZhbHVlLmN1cnJlbnRbMF0pO3RoaXMuaW50ZXJ2YWw9dGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlV2l0aFJlcXVlc3RBbmltYXRpb25GcmFtZSl9LGFuaW1hdGVXaXRoUmVxdWVzdEFuaW1hdGlvbkZyYW1lOmZ1bmN0aW9uKGEpe2E/KHRoaXMudGltZU9mZnNldD10aGlzLnRpbWVTdGFtcD9hLXRoaXMudGltZVN0YW1wOjAsdGhpcy50aW1lU3RhbXA9YSk6dGhpcy50aW1lT2Zmc2V0PTI1O3RoaXMuc2xpZGluZz90aGlzLmFuaW1hdGVTbGlkZSgpOnRoaXMuYW5pbWF0ZSgpO2lmKHRoaXMuc2xpZGluZ3x8dGhpcy5kcmFnZ2luZ3x8dGhpcy52YWx1ZS50YXJnZXRbMF0hPXRoaXMudmFsdWUuY3VycmVudFswXSl0aGlzLmludGVydmFsPXRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZVdpdGhSZXF1ZXN0QW5pbWF0aW9uRnJhbWUpOw0KZWxzZSB0aGlzLm9wdGlvbnMub25BZnRlckdsaWRlKCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiKXtpZighYXx8dGhpcy5kcmFnZ2luZyl7aWYodGhpcy5kcmFnZ2luZyl7dmFyIGM9dGhpcy5ncm91cENsb25lKHRoaXMudmFsdWUudGFyZ2V0KTt0aGlzLnNldFRhcmdldFZhbHVlQnlPZmZzZXQoW2gueC10aGlzLm9mZnNldC53cmFwcGVyWzBdLXRoaXMub2Zmc2V0Lm1vdXNlWzBdLGgueS10aGlzLm9mZnNldC53cmFwcGVyWzFdLXRoaXMub2Zmc2V0Lm1vdXNlWzFdXSx0aGlzLm9wdGlvbnMubG9vc2UpO3RoaXMuY2hhbmdlPVt0aGlzLnZhbHVlLnRhcmdldFswXS1jWzBdLHRoaXMudmFsdWUudGFyZ2V0WzFdLWNbMV1dfSh0aGlzLmRyYWdnaW5nfHxiKSYmdGhpcy5ncm91cENvcHkodGhpcy52YWx1ZS5jdXJyZW50LHRoaXMudmFsdWUudGFyZ2V0KTtpZih0aGlzLmRyYWdnaW5nfHx0aGlzLmdsaWRlKCl8fGIpdGhpcy51cGRhdGVPZmZzZXRGcm9tVmFsdWUoKSx0aGlzLmNhbGxBbmltYXRpb25DYWxsYmFjaygpfX0sDQpnbGlkZTpmdW5jdGlvbigpe3ZhciBhPVt0aGlzLnZhbHVlLnRhcmdldFswXS10aGlzLnZhbHVlLmN1cnJlbnRbMF0sdGhpcy52YWx1ZS50YXJnZXRbMV0tdGhpcy52YWx1ZS5jdXJyZW50WzFdXTtpZighYVswXSYmIWFbMV0pcmV0dXJuITE7TWF0aC5hYnMoYVswXSk+dGhpcy52YWx1ZVByZWNpc2lvblswXXx8TWF0aC5hYnMoYVsxXSk+dGhpcy52YWx1ZVByZWNpc2lvblsxXT8odGhpcy52YWx1ZS5jdXJyZW50WzBdKz1hWzBdKk1hdGgubWluKHRoaXMub3B0aW9ucy5zcGVlZCp0aGlzLnRpbWVPZmZzZXQvMjUsMSksdGhpcy52YWx1ZS5jdXJyZW50WzFdKz1hWzFdKk1hdGgubWluKHRoaXMub3B0aW9ucy5zcGVlZCp0aGlzLnRpbWVPZmZzZXQvMjUsMSkpOnRoaXMuZ3JvdXBDb3B5KHRoaXMudmFsdWUuY3VycmVudCx0aGlzLnZhbHVlLnRhcmdldCk7cmV0dXJuITB9LGFuaW1hdGVTbGlkZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnZhbHVlLnRhcmdldFswXS10aGlzLnZhbHVlLmN1cnJlbnRbMF0sDQpiPTA8PWE/MTotMSxhPU1hdGguYWJzKGEpLGM9KHRoaXMudmFsdWUuY3VycmVudFswXS10aGlzLnNsaWRlX3N0YXJ0KS8odGhpcy52YWx1ZS50YXJnZXRbMF0tdGhpcy5zbGlkZV9zdGFydCksZD1jLS41LGQ9KC0zKmQqZCsuOCkqdGhpcy5zdGVwX3NpemUqLjA4O2Q+YTspZCo9LjU7Ljk5NTxjPyh0aGlzLmdyb3VwQ29weSh0aGlzLnZhbHVlLmN1cnJlbnQsdGhpcy52YWx1ZS50YXJnZXQpLHRoaXMuc2xpZGluZz0hMSx0aGlzLnNsaWRlX2NhbGxiYWNrKCkpOnRoaXMudmFsdWUuY3VycmVudFswXSs9YipkO3RoaXMudXBkYXRlT2Zmc2V0RnJvbVZhbHVlKCk7dGhpcy5yZW5kZXJIYW5kbGVQb3NpdGlvbigpO2lzTmFOKGMpfSx1cGRhdGVPZmZzZXRGcm9tVmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm9mZnNldC5jdXJyZW50PXRoaXMub3B0aW9ucy5zbmFwP3RoaXMuZ2V0T2Zmc2V0c0J5UmF0aW9zKHRoaXMuZ2V0Q2xvc2VzdFN0ZXBzKHRoaXMudmFsdWUuY3VycmVudCkpOnRoaXMuZ2V0T2Zmc2V0c0J5UmF0aW9zKHRoaXMudmFsdWUuY3VycmVudCk7DQp0aGlzLmdyb3VwQ29tcGFyZSh0aGlzLm9mZnNldC5jdXJyZW50LHRoaXMub2Zmc2V0LnByZXYpfHwodGhpcy5yZW5kZXJIYW5kbGVQb3NpdGlvbigpLHRoaXMuZ3JvdXBDb3B5KHRoaXMub2Zmc2V0LnByZXYsdGhpcy5vZmZzZXQuY3VycmVudCkpfSxyZW5kZXJIYW5kbGVQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPSIiO3RoaXMub3B0aW9ucy5jc3MzJiZyLnRyYW5zZm9ybT8odGhpcy5vcHRpb25zLmhvcml6b250YWwmJihhKz0idHJhbnNsYXRlWCgiK3RoaXMub2Zmc2V0LmN1cnJlbnRbMF0rInB4KSIpLHRoaXMuaGFuZGxlLnN0eWxlW3IudHJhbnNmb3JtXT1hKTp0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbCYmKHRoaXMuaGFuZGxlLnN0eWxlLmxlZnQ9dGhpcy5vZmZzZXQuY3VycmVudFswXSsicHgiKX0sc2V0VGFyZ2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iP3RoaXMuZ2V0TG9vc2VWYWx1ZShhKTp0aGlzLmdldFByb3BlclZhbHVlKGEpO3RoaXMuZ3JvdXBDb3B5KHRoaXMudmFsdWUudGFyZ2V0LA0KYyk7dGhpcy5vZmZzZXQudGFyZ2V0PXRoaXMuZ2V0T2Zmc2V0c0J5UmF0aW9zKGMpO3RoaXMuY2FsbFRhcmdldENhbGxiYWNrKCl9LHNldFRhcmdldFZhbHVlQnlPZmZzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFJhdGlvc0J5T2Zmc2V0cyhhKSxjPWI/dGhpcy5nZXRMb29zZVZhbHVlKGMpOnRoaXMuZ2V0UHJvcGVyVmFsdWUoYyk7dGhpcy5ncm91cENvcHkodGhpcy52YWx1ZS50YXJnZXQsYyk7dGhpcy5vZmZzZXQudGFyZ2V0PXRoaXMuZ2V0T2Zmc2V0c0J5UmF0aW9zKGMpfSxnZXRMb29zZVZhbHVlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0UHJvcGVyVmFsdWUoYSk7cmV0dXJuW2JbMF0rKGFbMF0tYlswXSkvNCxiWzFdKyhhWzFdLWJbMV0pLzRdfSxnZXRQcm9wZXJWYWx1ZTpmdW5jdGlvbihhKXthPXRoaXMuZ3JvdXBDbG9uZShhKTthWzBdPU1hdGgubWF4KGFbMF0sMCk7YVsxXT1NYXRoLm1heChhWzFdLDApO2FbMF09TWF0aC5taW4oYVswXSwxKTthWzFdPU1hdGgubWluKGFbMV0sDQoxKTsoIXRoaXMuZHJhZ2dpbmcmJiF0aGlzLnRhcHBpbmd8fHRoaXMub3B0aW9ucy5zbmFwKSYmMTx0aGlzLm9wdGlvbnMuc3RlcHMmJihhPXRoaXMuZ2V0Q2xvc2VzdFN0ZXBzKGEpKTtyZXR1cm4gYX0sZ2V0UmF0aW9zQnlPZmZzZXRzOmZ1bmN0aW9uKGEpe3JldHVyblt0aGlzLmdldFJhdGlvQnlPZmZzZXQoYVswXSx0aGlzLmJvdW5kcy5hdmFpbFdpZHRoLHRoaXMuYm91bmRzLmxlZnQpLHRoaXMuZ2V0UmF0aW9CeU9mZnNldChhWzFdLHRoaXMuYm91bmRzLmF2YWlsSGVpZ2h0LHRoaXMuYm91bmRzLnRvcCldfSxnZXRSYXRpb0J5T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj8oYS1jKS9iOjB9LGdldE9mZnNldHNCeVJhdGlvczpmdW5jdGlvbihhKXtyZXR1cm5bdGhpcy5nZXRPZmZzZXRCeVJhdGlvKGFbMF0sdGhpcy5ib3VuZHMuYXZhaWxXaWR0aCx0aGlzLmJvdW5kcy5sZWZ0KSx0aGlzLmdldE9mZnNldEJ5UmF0aW8oYVsxXSx0aGlzLmJvdW5kcy5hdmFpbEhlaWdodCwNCnRoaXMuYm91bmRzLnRvcCldfSxnZXRPZmZzZXRCeVJhdGlvOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTWF0aC5yb3VuZChhKmIpK2N9LGdldFN0ZXBOdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q2xvc2VzdFN0ZXAoYSkqKHRoaXMub3B0aW9ucy5zdGVwcy0xKSsxfSxnZXRDbG9zZXN0U3RlcHM6ZnVuY3Rpb24oYSl7cmV0dXJuW3RoaXMuZ2V0Q2xvc2VzdFN0ZXAoYVswXSksdGhpcy5nZXRDbG9zZXN0U3RlcChhWzFdKV19LGdldENsb3Nlc3RTdGVwOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9MSxkPTA7ZDw9dGhpcy5vcHRpb25zLnN0ZXBzLTE7ZCsrKU1hdGguYWJzKHRoaXMuc3RlcFJhdGlvc1tkXS1hKTxjJiYoYz1NYXRoLmFicyh0aGlzLnN0ZXBSYXRpb3NbZF0tYSksYj1kKTtyZXR1cm4gdGhpcy5zdGVwUmF0aW9zW2JdfSxncm91cENvbXBhcmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVswXT09YlswXSYmYVsxXT09YlsxXX0sZ3JvdXBDb3B5OmZ1bmN0aW9uKGEsDQpiKXthWzBdPWJbMF07YVsxXT1iWzFdfSxncm91cENsb25lOmZ1bmN0aW9uKGEpe3JldHVyblthWzBdLGFbMV1dfSxkcmFnZ2luZ09uRGlzYWJsZWRBeGlzOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMub3B0aW9ucy5ob3Jpem9udGFsJiZoLnhEaWZmPmgueURpZmZ8fCF0aGlzLm9wdGlvbnMudmVydGljYWwmJmgueURpZmY+aC54RGlmZn19O2Zvcih2YXIgaz1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19LGI9ZnVuY3Rpb24oYSxiLGMpe2EuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLCExKTphLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KCJvbiIrYixjKX0sYz1mdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVFdmVudExpc3RlbmVyP2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpOmEuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoIm9uIitiLGMpfSxsPWZ1bmN0aW9uKGEpe2F8fChhPXdpbmRvdy5ldmVudCk7DQphLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCk7YS5yZXR1cm5WYWx1ZT0hMX0sTT1mdW5jdGlvbihhKXthfHwoYT13aW5kb3cuZXZlbnQpO2Euc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpO2EuY2FuY2VsQnViYmxlPSEwfSxoPXt4OjAseTowLHhEaWZmOjAseURpZmY6MCxyZWZyZXNoOmZ1bmN0aW9uKGEpe2F8fChhPXdpbmRvdy5ldmVudCk7Im1vdXNlbW92ZSI9PWEudHlwZT90aGlzLnNldChhKTphLnRvdWNoZXMmJnRoaXMuc2V0KGEudG91Y2hlc1swXSl9LHNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLngsYz10aGlzLnk7aWYoYS5jbGllbnRYfHxhLmNsaWVudFkpdGhpcy54PWEuY2xpZW50WCx0aGlzLnk9YS5jbGllbnRZO2Vsc2UgaWYoYS5wYWdlWHx8YS5wYWdlWSl0aGlzLng9YS5wYWdlWC1kb2N1bWVudC5ib2R5LnNjcm9sbExlZnQtZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsdGhpcy55PWEucGFnZVktZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AtDQpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO3RoaXMueERpZmY9TWF0aC5hYnModGhpcy54LWIpO3RoaXMueURpZmY9TWF0aC5hYnModGhpcy55LWMpfX0sdz17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXtsZWZ0OjAsdG9wOjB9O3ZvaWQgMCE9PWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYoYj1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtyZXR1cm5bYi5sZWZ0LGIudG9wXX19LHI9e3RyYW5zZm9ybTplKCJ0cmFuc2Zvcm0iKSxwZXJzcGVjdGl2ZTplKCJwZXJzcGVjdGl2ZSIpLGJhY2tmYWNlVmlzaWJpbGl0eTplKCJiYWNrZmFjZVZpc2liaWxpdHkiKX0sdT1bIndlYmtpdCIsIm1veiJdLG09d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSx4PXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSx2PTA7djx1Lmxlbmd0aCYmIW07Kyt2KW09d2luZG93W3Vbdl0rIlJlcXVlc3RBbmltYXRpb25GcmFtZSJdLHg9d2luZG93W3Vbdl0rIkNhbmNlbEFuaW1hdGlvbkZyYW1lIl18fA0Kd2luZG93W3Vbdl0rIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSJdO218fChtPWZ1bmN0aW9uKGEpe3JldHVybiBzZXRUaW1lb3V0KGEsMjUpfSx4PWNsZWFyVGltZW91dCk7cmV0dXJuIGR9KTsNCiAgICA8L3NjcmlwdD4NCiAgICA8c3R5bGUgbWVkaWE9InNjcmVlbiI+DQogICAgLmlzbS1zbGlkZXIgPiBvbCwgLmlzbS1zbGlkZXIgPiBvbCA+IGxpLCAuaXNtLXNsaWRlciA+IG9sID4gbGkgPiBpbWcgeyB3aWR0aDogMTAwJTsgbGlzdC1zdHlsZTogbm9uZTsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyB9DQouaXNtLXNsaWRlciB7DQpvdmVyZmxvdzogaGlkZGVuOw0KcG9zaXRpb246IHJlbGF0aXZlOw0KcGFkZGluZzogMCAhaW1wb3J0YW50Ow0KLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsNCi1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsNCi1tb3otdXNlci1zZWxlY3Q6IG5vbmU7DQotbXMtdXNlci1zZWxlY3Q6IG5vbmU7DQp1c2VyLXNlbGVjdDogbm9uZTsNCmN1cnNvcjogZGVmYXVsdDsNCnotaW5kZXg6IDI7DQpiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7DQotd2Via2l0LWFuaW1hdGlvbjogaXNtLWZhZGVpbiAzczsNCi13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsNCi1tb3otYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nOw0KYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsNCn0NCkAtd2Via2l0LWtleWZyYW1lcyBpc20tZmFkZWluIHsNCmZyb20geyBvcGFjaXR5OiAwOyB9DQp0byB7IG9wYWNpdHk6IDE7IH0NCn0NCkAtd2Via2l0LWtleWZyYW1lcyBpc20tbG9hZGluZyB7DQo1MCUgeyBsZWZ0OiAxMjBweDsgfQ0KfQ0KDQouaXNtLXNsaWRlciAuaXNtLXNsaWRlcyB7DQpsaXN0LXN0eWxlOiBub25lOw0KcG9zaXRpb246IGFic29sdXRlOw0KaGVpZ2h0OiAxMDAlOw0KdG9wOiAwOw0KcGFkZGluZzogMCAhaW1wb3J0YW50Ow0KbWFyZ2luLXRvcDogMDsNCm1hcmdpbi1ib3R0b206IDA7DQp6LWluZGV4OiAxOw0KfQ0KDQouaXNtLXNsaWRlciBsaS5pc20tc2xpZGUgew0KaGVpZ2h0OiAxMDAlOw0Kb3ZlcmZsb3c6IGhpZGRlbjsNCnBvc2l0aW9uOiBhYnNvbHV0ZTsNCmRpc3BsYXk6IGJsb2NrOw0KdG9wOiAwOw0KYm90dG9tOiAwOw0KbWFyZ2luOiAwICFpbXBvcnRhbnQ7DQpwYWRkaW5nOiAwICFpbXBvcnRhbnQ7DQpiYWNrZ3JvdW5kLWNvbG9yOiAjZDVkNWQ1Ow0KdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KDQouaXNtLXNsaWRlciAuaXNtLWltZy1mcmFtZSB7DQpkaXNwbGF5OiBibG9jazsNCnBvc2l0aW9uOiBhYnNvbHV0ZTsNCndpZHRoOiAxMDAlOw0KaGVpZ2h0OiAxMDAlOw0KfQ0KDQouaXNtLXNsaWRlciBhLmlzbS1pbWFnZS1saW5rIHsNCnBvc2l0aW9uOiBhYnNvbHV0ZTsNCmNvbG9yOiBpbmhlcml0Ow0KdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KZGlzcGxheTogYmxvY2s7DQp0b3A6IDA7DQpsZWZ0OiAwOw0Kd2lkdGg6IDEwMCU7DQpoZWlnaHQ6IDEwMCU7DQp9DQoNCi5pc20tc2xpZGVyIC5pc20taW1nIHsNCmRpc3BsYXk6IGJsb2NrOw0KYm9yZGVyOiBub25lOw0KcG9zaXRpb246IGFic29sdXRlOw0KcG9pbnRlci1ldmVudHM6IG5vbmU7DQp9DQoNCi5pc20tYnV0dG9uLCAuaXNtLXBhdXNlLWJ1dHRvbiB7DQpwb3NpdGlvbjogYWJzb2x1dGU7DQpkaXNwbGF5OiBibG9jazsNCi13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDsgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OyBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KYm9yZGVyOiBub25lOw0Kb3V0bGluZTogbm9uZTsNCnRleHQtYWxpZ246Y2VudGVyOw0Kei1pbmRleDogNjsNCmN1cnNvcjogcG9pbnRlcjsNCnBhZGRpbmc6IDA7DQpiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjsNCn0NCg0KLmlzbS1wYXVzZS1idXR0b24gew0KZGlzcGxheTogbm9uZTsNCmxlZnQ6IDUwJTsNCn0NCg0KLmlzbS1zbGlkZXI6aG92ZXIgLmlzbS1wYXVzZS1idXR0b24gew0KZGlzcGxheTogYmxvY2s7DQp9DQoNCi5pc20tY2FwdGlvbiB7DQotd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsgYm94LXNpemluZzogYm9yZGVyLWJveDsNCnBhZGRpbmc6IDAgMWVtOw0KdGV4dC1zaGFkb3c6IG5vbmU7DQpsaW5lLWhlaWdodDogMS4yZW07DQpwYWRkaW5nOiAwLjI1ZW0gMC41ZW07DQp3aWR0aDogYXV0bzsNCmhlaWdodDogYXV0bzsNCnRleHQtYWxpZ246IGNlbnRlcjsNCnZpc2liaWxpdHk6IGhpZGRlbjsNCn0NCg0KYS5pc20taW1hZ2UtbGluayAuaXNtLWNhcHRpb24sIGEuaXNtLWNhcHRpb24gew0KdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KZm9udC13ZWlnaHQ6IG5vcm1hbDsNCn0NCg0KYS5pc20tY2FwdGlvbjpob3ZlciB7DQp0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsNCn0NCg0KLmlzbS1jYXB0aW9uLTAgew0Kei1pbmRleDogMzsNCn0NCg0KLmlzbS1jYXB0aW9uLTEgew0Kei1pbmRleDogNDsNCn0NCg0KLmlzbS1jYXB0aW9uLTIgew0Kei1pbmRleDogNTsNCn0NCg0KLmlzbS1yYWRpb3Mgew0KbWFyZ2luOiAwOw0KcGFkZGluZzogMDsNCmxpc3Qtc3R5bGU6IG5vbmU7DQpjb2xvcjogI2ZmZjsNCmZvbnQtc2l6ZTogMXB4Ow0KfQ0KDQouaXNtLXNsaWRlciAuaXNtLXJhZGlvcyB7DQpwb3NpdGlvbjogYWJzb2x1dGU7DQotd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsgYm94LXNpemluZzogYm9yZGVyLWJveDsNCnotaW5kZXg6IDY7DQpib3R0b206IDVweDsNCmxlZnQ6IDA7DQpyaWdodDogMDsNCndpZHRoOiBhdXRvOw0KYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjApOw0KcGFkZGluZzogMCA3cHg7DQpoZWlnaHQ6IDA7DQpvdmVyZmxvdzogdmlzaWJsZTsNCn0NCg0KLmlzbS1zbGlkZXIgLmlzbS1yYWRpb3MuaXNtLXJhZGlvcy1hcy10aHVtYm5haWxzIHsNCmJvdHRvbTogNXB4Ow0KfQ0KDQouaXNtLXJhZGlvcyBsaSB7DQpwb3NpdGlvbjogcmVsYXRpdmU7DQpkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQptYXJnaW46IDAgM3B4Ow0KcGFkZGluZzogMDsNCn0NCg0KLmlzbS1yYWRpb3MgaW5wdXQuaXNtLXJhZGlvIHsNCmRpc3BsYXk6IG5vbmU7DQp9DQoNCi5pc20tcmFkaW9zIGxhYmVsIHsNCmRpc3BsYXk6IGJsb2NrOw0KLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OyAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQptYXJnaW46IDA7DQp0ZXh0LWRlY29yYXRpb246IG5vbmU7DQpjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5pc20tcmFkaW9zLWFzLXRodW1ibmFpbHMgbGFiZWwgew0KLXdlYmtpdC1iYWNrZ3JvdW5kLXNpemU6IDEyMCUgYXV0bzsgLW1vei1iYWNrZ3JvdW5kLXNpemU6IDEyMCUgYXV0bzsgLW8tYmFja2dyb3VuZC1zaXplOiAxMjAlIGF1dG87IGJhY2tncm91bmQtc2l6ZTogMTIwJSBhdXRvOw0KYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjsNCmJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQpib3JkZXI6IDJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNik7DQpvcGFjaXR5OiAwLjg7DQp9DQoNCi5pc20tcmFkaW9zLWFzLXRodW1ibmFpbHMgbGFiZWw6aG92ZXIgew0KYm9yZGVyOiAycHggc29saWQgI2ZmZjsNCm9wYWNpdHk6IDE7DQp9DQoNCi5pc20tcmFkaW9zLWFzLXRodW1ibmFpbHMgbGkuYWN0aXZlIGxhYmVsIHsNCmJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMS4wKTsNCm9wYWNpdHk6IDE7DQp9DQoNCnAuaXNtLWJhZGdlIHsNCm1hcmdpbjogMCBhdXRvOw0KdGV4dC1hbGlnbjogcmlnaHQ7DQpmb250LXNpemU6IDEwcHg7DQpwYWRkaW5nLXRvcDogMXB4Ow0KY29sb3I6ICNjY2M7DQpmb250LWZhbWlseTogc2Fucy1zZXJpZjsNCmZvbnQtd2VpZ2h0OiBub3JtYWw7DQp9DQoNCnAuaXNtLWJhZGdlIGEuaXNtLWxpbmsgew0KY29sb3I6IGluaGVyaXQ7DQp0ZXh0LWRlY29yYXRpb246IG5vbmU7DQptYXJnaW4tcmlnaHQ6IDAuMjVlbTsNCn0NCg0KcC5pc20tYmFkZ2UgYS5pc20tbGluazpob3ZlciB7DQpjb2xvcjogI2FhYTsNCnRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOw0KfQ0KDQouaXNtLXpvb20taW4gew0KLXdlYmtpdC1hbmltYXRpb246IHpvb21pbiAwLjgxcyBsaW5lYXIgMTsNCmFuaW1hdGlvbjogem9vbWluIDAuODFzIGxpbmVhciAxOw0KfQ0KDQpALXdlYmtpdC1rZXlmcmFtZXMgem9vbWluIHsNCjAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMCk7IHRyYW5zZm9ybTogc2NhbGUoMS4wKTsgfQ0KMTAwJSB7IC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgzLjApOyB0cmFuc2Zvcm06IHNjYWxlKDMuMCk7IH0NCn0NCkBrZXlmcmFtZXMgem9vbWluIHsNCjAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMCk7IHRyYW5zZm9ybTogc2NhbGUoMS4wKTsgfQ0KMTAwJSB7IC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgzLjApOyB0cmFuc2Zvcm06IHNjYWxlKDMuMCk7IH0NCn0NCg0KQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVpbiB7DQowJSB7IG9wYWNpdHk6IDA7IH0NCjEwMCUgeyBvcGFjaXR5OiAxOyB9DQp9DQpAa2V5ZnJhbWVzIGZhZGVpbiB7DQowJSB7IG9wYWNpdHk6IDA7IH0NCjEwMCUgeyBvcGFjaXR5OiAxOyB9DQp9DQoNCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluIHsNCjAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMTIwMHB4LCAwKTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEyMDBweCwgMCk7IH0NCjEwMCUgeyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAwKTsgfQ0KfQ0KQGtleWZyYW1lcyBzbGlkZWluIHsNCjAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMTIwMHB4LCAwKTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEyMDBweCwgMCk7IH0NCjEwMCUgeyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAwKTsgfQ0KfQ0KDQpALXdlYmtpdC1rZXlmcmFtZXMgcG9waW4gew0KNTAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuMik7IHRyYW5zZm9ybTogc2NhbGUoMS4yKTsgfQ0KfQ0KQGtleWZyYW1lcyBwb3BpbiB7DQo1MCUgeyAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMS4yKTsgdHJhbnNmb3JtOiBzY2FsZSgxLjIpOyB9DQp9DQoNCi5pc20tem9vbS1wYW4gew0KLXdlYmtpdC1hbmltYXRpb246IHpvb21wYW4gMjAuMHMgbGluZWFyIDE7DQphbmltYXRpb246IHpvb21wYW4gMjAuMHMgbGluZWFyIDE7DQp9DQpALXdlYmtpdC1rZXlmcmFtZXMgem9vbXBhbiB7DQowJSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMCkgc2NhbGUoMS4wKTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMCkgc2NhbGUoMS4wKTsgfQ0KNTAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNSUsIC01JSkgc2NhbGUoMS4zKTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUlLCAtNSUpIHNjYWxlKDEuMyk7IH0NCjEwMCUgeyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApIHNjYWxlKDEuMCk7IHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApIHNjYWxlKDEuMCk7IH0NCn0NCkBrZXlmcmFtZXMgem9vbXBhbiB7DQowJSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMCkgc2NhbGUoMS4wKTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMCkgc2NhbGUoMS4wKTsgfQ0KNTAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNSUsIC01JSkgc2NhbGUoMS4zKTsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUlLCAtNSUpIHNjYWxlKDEuMyk7IH0NCjEwMCUgeyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApIHNjYWxlKDEuMCk7IHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApIHNjYWxlKDEuMCk7IH0NCn0NCg0KLmlzbS16b29tLXJvdGF0ZSB7DQotd2Via2l0LWFuaW1hdGlvbjogem9vbXJvdGF0ZSAyMC4wcyBsaW5lYXIgMTsNCmFuaW1hdGlvbjogem9vbXJvdGF0ZSAyMC4wcyBsaW5lYXIgMTsNCn0NCkAtd2Via2l0LWtleWZyYW1lcyB6b29tcm90YXRlIHsNCjAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwKSBzY2FsZSgxLjApOyB0cmFuc2Zvcm06IHJvdGF0ZSgwKSBzY2FsZSgxLjApOyB9DQo1MCUgeyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC01ZGVnKSBzY2FsZSgxLjMpOyB0cmFuc2Zvcm06IHJvdGF0ZSgtNWRlZykgc2NhbGUoMS4zKTsgfQ0KMTAwJSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMCkgc2NhbGUoMS4wKTsgdHJhbnNmb3JtOiByb3RhdGUoMCkgc2NhbGUoMS4wKTsgfQ0KfQ0KQGtleWZyYW1lcyB6b29tcm90YXRlIHsNCjAlIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwKSBzY2FsZSgxLjApOyB0cmFuc2Zvcm06IHJvdGF0ZSgwKSBzY2FsZSgxLjApOyB9DQo1MCUgeyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC01ZGVnKSBzY2FsZSgxLjMpOyB0cmFuc2Zvcm06IHJvdGF0ZSgtNWRlZykgc2NhbGUoMS4zKTsgfQ0KMTAwJSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMCkgc2NhbGUoMS4wKTsgdHJhbnNmb3JtOiByb3RhdGUoMCkgc2NhbGUoMS4wKTsgfQ0KfQ0KLyogU0xJREVSICovDQoNCiNteS1zbGlkZXIgew0KICB3aWR0aDogMTAwJTsNCiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IGJvcmRlci1yYWRpdXM6IDVweDsNCn0NCg0KI215LXNsaWRlci1pc20tYmFkZ2Ugew0KICB3aWR0aDogMTAwJTsNCn0NCg0KI215LXNsaWRlcjpiZWZvcmUgew0KICBjb250ZW50OiAnJzsgZGlzcGxheTogYmxvY2s7IHBhZGRpbmctdG9wOiAyNSU7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1mcmFtZSB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBib3R0b206IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOw0KfQ0KDQojbXktc2xpZGVyIC5pc20tYnV0dG9uIHsNCiAgZGlzcGxheTogYmxvY2s7DQogIGJvcmRlci1yYWRpdXM6IDI1cHg7DQogIHdpZHRoOiA1MHB4OyBoZWlnaHQ6IDUwcHg7IGJhY2tncm91bmQtc2l6ZTogMTZweCAxNnB4OyB0b3A6IDUwJTsgbWFyZ2luLXRvcDogLTI1cHg7DQogIGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMyk7DQogIGRpc3BsYXk6IGJsb2NrOyB2aXNpYmlsaXR5OiB2aXNpYmxlOw0KfQ0KDQojbXktc2xpZGVyIC5pc20tYnV0dG9uLXByZXYgew0KICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQkFNQUFBQllSMnp0QUFBQUlWQk1WRVgvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vOS9nTWR2QUFBQUFYUlNUbE1BUU9iWVpnQUFBQUZpUzBkRUFJZ0ZIVWdBQUFBSmNFaFpjd0FBQXVVQUFBTGxBUnYrWG5zQUFBQlVTVVJCVkVqSDdkWXhDZ0FnRUFQQjh3ZVgvMzlXRkJ0QmJzRlNZMnNZeXpYaWNETHEwd1FES1FHUUFLaUpBWlRFdkMrSVJnUEJZQUV5WU9CMUFBZjRoQWtUWHhCNW55U09HbWFSdzRwcDVyaHYzNE1PUXdzY0o3L01yeFFBQUFBQVNVVk9SSzVDWUlJPSk7DQogIGxlZnQ6IDEwcHg7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1idXR0b24tbmV4dCB7DQogIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVBQUFBQkFCQU1BQUFCWVIyenRBQUFBSVZCTVZFWC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy85L2dNZHZBQUFBQVhSU1RsTUFRT2JZWmdBQUFBRmlTMGRFQUlnRkhVZ0FBQUFKY0VoWmN3QUFBdVVBQUFMbEFSditYbnNBQUFCWVNVUkJWRWpIN2RZeERvQXdERVBSNUFiMS9TOExWRWdzeUw4U0czWFdXSy9kbktwbnVtQTAvTDRsQU9TSkUvREV0WGZFQkJ4eEJ3WUZCSDhJRVdKYmdnTDRSSUFBUHdGV0MrVkRxWEV0WXJGeU5XTzV2NThIQjRxOUhBa2w3S1RZQUFBQUFFbEZUa1N1UW1DQyk7DQogIHJpZ2h0OiAxMHB4Ow0KfQ0KDQojbXktc2xpZGVyIC5pc20tcGF1c2UtYnV0dG9uIHsNCiAgd2lkdGg6IDUwcHg7IGhlaWdodDogNTBweDsgYmFja2dyb3VuZC1zaXplOiAxNnB4IDE2cHg7IHRvcDogNTAlOyBtYXJnaW4tdG9wOiAtMjVweDsgYm9yZGVyLXJhZGl1czogMjVweDsgbWFyZ2luLWxlZnQ6IC0yNXB4Ow0KICBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjMpOyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FZQUFBQ3FhWEhlQUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFjMGxFUVZSNDJ1M1NzUWtBSUF4RlFlUCtPMzhYc0JLeE1QZktnQ1FjanFIZTFXNllKRmVYVk5YSnV4ZDN6TzQvQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUlEMFJ3dUVvQWg0MHlZY1NRQUFBQUJKUlU1RXJrSmdnZz09KTsNCn0NCg0KI215LXNsaWRlciAuaXNtLXBhdXNlLWJ1dHRvbi5pc20tcGxheSB7DQogIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUVBQUFBQkFDQVlBQUFDcWFYSGVBQUFBQm1KTFIwUUEvd0QvQVArZ3ZhZVRBQUFBQ1hCSVdYTUFBQXM2QUFBTE9nRmtmMWNOQUFBQ3kwbEVRVlI0MnVXYlMyaFVWeHlIdjc4UExLS2lGZ1hCaUlndkJFVkt3WldMNGtKckY3b1FDU3BvQWxZa3VoQ3lxNGhRMmdvcVNCRkJzTkJDb1hTaGJncDE1WHNUUVNHS3FLajFRZFRZRkNWUWl1RGljNUZjR2tRaGowbm0zdmwvNitHZStYM3pPMmZ1bVRrWGhvaTZTNTFOVnRRYmFwZmFsbFZBaC8vVG9jN0tMRUQxamJwUG5aSlZRTUY5OWZQTUFncU9xWjltRnFENlVQMDZzNENDOCtyME11Y1pOOHJYL3dKNHB1NVZQOG5ZZ0lIY1U1ZG5hOEJBRmdNMzFlOHJ2VWlPb0FIdnQyRkhaZ0VGZjZpVHMweUJEL0VWMEszdVZpZGtGQUF3RlRnQjNGS1haQlJRc0JTNHErNVhaMllVVVBBdGNFVnR6aW9BWUJud20vcTdPaW1qZ0lMTndBdDFaMVlCQURPQWsrcHRkVUZHQVFEUlB5MGVxdTIxM0dCVlJjQkFEZ09YMVkxWkJRQXNCODZxUDQvMEJxcXFBZ3EyOTIrM1c3SUtBSmdObkZJNzFYa1pCUlE1VmdCUDFEWjFXallCQXprT1hGTFhaaFVBc0JJNHA1NVF4MmNVVUxBYmVLeHV5eW9BWUM3d2kzcGRuWk5SUUpIenMvNUZzbFdkbWsxQXdVVGdKK0NpdWk2akFBQ0JXY0RmR1FYMEF0OEE4eVBpQnNDRVJPSFBBODBSMFpOdEVYd0t0RVRFbXZmRFoyakFJZURIaUhqeHNSYzBvZ0NCbDhER2lPaklkaXY4SDNBUWFCcE0rRVpyd0ZWZ1UwUzh6TFlkN2dMYUltTDFVTU0zUWdPT0FVY2pvbXU0RjZpcWdIK0F6UkZ4b1JhYmhDcnhscjYvenBwcUViNXFEYmdHYklpSTdscHZFOHZPYzZBOUlsYlZPbndWR25BUytDRWlub3pXQUdVVjhCcllHaEYvanZaQVpad0NoNEI1WXhHK2JBM29CTlpIeFBPeEhMUU1EZWdHOWtmRXlyRU9YNFlHL0FvY2lJaEg5WG9EOVJMUUM3Ukd4Smw2MTY4ZVUrQW9mYi9KblNuQjlCdlRCdHdCdmh6TjcvU3lOcUFIK0M0aWxwVXQvTEFZNGxuaDArcENHb2xCQ3VoVnQ5Q0lEUEtocWNvOFdWckxSZkF2WUcxRVBLalNCMXFMUmZBVmNBUllWTFh3dFpnQzUrcHh4TDNlQXE2cC80N2thRnJWQmV4Um14b2x6enNaK2lPRjRwWFRXUUFBQUFCSlJVNUVya0pnZ2c9PSk7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1idXR0b246aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1wYXVzZS1idXR0b246aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1yYWRpb3Mgew0KICBkaXNwbGF5OiBibG9jazsNCiAgaGVpZ2h0OiAyMHB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1yYWRpb3MgbGFiZWwgew0KICB3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4Ow0KICBib3JkZXItcmFkaXVzOiAzcHg7DQogIGNvbG9yOiAjMDAwOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1yYWRpb3MgbGkuYWN0aXZlIGxhYmVsIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAxLjApOw0KfQ0KDQojbXktc2xpZGVyIC5pc20tcmFkaW9zIGxhYmVsOmhvdmVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpOw0KfQ0KDQoNCi8qIFNMSURFUyAqLw0KDQojbXktc2xpZGVyIC5pc20tc2xpZGUtMCAuaXNtLWltZy1mcmFtZSB7DQogIHdpZHRoOiAxMDAlOw0KfQ0KDQojbXktc2xpZGVyIC5pc20tc2xpZGUtMCAuaXNtLWltZyB7DQogIHdpZHRoOiAxMDAlOw0KICBib3R0b206IDA7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0xIC5pc20taW1nLWZyYW1lIHsNCiAgd2lkdGg6IDEwMCU7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0xIC5pc20taW1nIHsNCiAgd2lkdGg6IDEwMCU7DQogIHRvcDogNTAlOyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsgLW1vei10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7IC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsNCn0NCg0KI215LXNsaWRlciAuaXNtLXNsaWRlLTIgLmlzbS1pbWctZnJhbWUgew0KICB3aWR0aDogMTAwJTsNCn0NCg0KI215LXNsaWRlciAuaXNtLXNsaWRlLTIgLmlzbS1pbWcgew0KICB3aWR0aDogMTAwJTsNCiAgYm90dG9tOiAwOw0KfQ0KDQoNCi8qIENBUFRJT05TICovDQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0wIC5pc20tY2FwdGlvbi0wLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0wIC5pc20tY2FwdGlvbi0xLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0wIC5pc20tY2FwdGlvbi0yLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0xIC5pc20tY2FwdGlvbi0wLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0xIC5pc20tY2FwdGlvbi0xLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0xIC5pc20tY2FwdGlvbi0yLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0yIC5pc20tY2FwdGlvbi0wLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0yIC5pc20tY2FwdGlvbi0xLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0yIC5pc20tY2FwdGlvbi0yLmlzbS1jYXB0aW9uLWFuaW0gew0KICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZWluIDAuNXM7IGFuaW1hdGlvbjogZmFkZWluIDAuNXM7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0wIC5pc20tY2FwdGlvbi0wIHsNCiAgZm9udC1zaXplOiAxLjI1ZW07DQogIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOw0KICBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTAlOw0KICBsZWZ0OiA1JTsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBib3JkZXI6IG5vbmU7DQogIGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzApOw0KfQ0KDQojbXktc2xpZGVyIC5pc20tc2xpZGUtMCAuaXNtLWNhcHRpb24tMSB7DQogIGZvbnQtc2l6ZTogMS4yNWVtOw0KICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsNCiAgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDYwJTsNCiAgbGVmdDogNDAlOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIGJvcmRlcjogbm9uZTsNCiAgY29sb3I6ICNmZmY7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43MCk7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0wIC5pc20tY2FwdGlvbi0yIHsNCiAgZm9udC1zaXplOiAxLjI1ZW07DQogIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOw0KICBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMjAlOw0KICBsZWZ0OiA2MCU7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgYm9yZGVyOiBub25lOw0KICBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcwKTsNCn0NCg0KI215LXNsaWRlciAuaXNtLXNsaWRlLTEgLmlzbS1jYXB0aW9uLTAgew0KICBmb250LXNpemU6IDEuMjVlbTsNCiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMCU7DQogIGxlZnQ6IDUlOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIGJvcmRlcjogbm9uZTsNCiAgY29sb3I6ICNmZmY7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43MCk7DQp9DQoNCiNteS1zbGlkZXIgLmlzbS1zbGlkZS0xIC5pc20tY2FwdGlvbi0xIHsNCiAgZm9udC1zaXplOiAxLjI1ZW07DQogIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOw0KICBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogNjAlOw0KICBsZWZ0OiA0MCU7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgYm9yZGVyOiBub25lOw0KICBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcwKTsNCn0NCg0KI215LXNsaWRlciAuaXNtLXNsaWRlLTEgLmlzbS1jYXB0aW9uLTIgew0KICBmb250LXNpemU6IDEuMjVlbTsNCiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAyMCU7DQogIGxlZnQ6IDYwJTsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBib3JkZXI6IG5vbmU7DQogIGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzApOw0KfQ0KDQojbXktc2xpZGVyIC5pc20tc2xpZGUtMiAuaXNtLWNhcHRpb24tMCB7DQogIGZvbnQtc2l6ZTogMS4yNWVtOw0KICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsNCiAgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDEwJTsNCiAgbGVmdDogNSU7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgYm9yZGVyOiBub25lOw0KICBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcwKTsNCn0NCg0KI215LXNsaWRlciAuaXNtLXNsaWRlLTIgLmlzbS1jYXB0aW9uLTEgew0KICBmb250LXNpemU6IDEuMjVlbTsNCiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiA2MCU7DQogIGxlZnQ6IDQwJTsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBib3JkZXI6IG5vbmU7DQogIGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNzApOw0KfQ0KDQojbXktc2xpZGVyIC5pc20tc2xpZGUtMiAuaXNtLWNhcHRpb24tMiB7DQogIGZvbnQtc2l6ZTogMS4yNWVtOw0KICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsNCiAgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDIwJTsNCiAgbGVmdDogNjAlOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQogIGJvcmRlcjogbm9uZTsNCiAgY29sb3I6ICNmZmY7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43MCk7DQp9DQoNCg0KICAgIDwvc3R5bGU+DQogIDwvaGVhZD4NCiAgPGJvZHk+DQogICAgPGRpdiBjbGFzcz0iaXNtLXNsaWRlciIgaWQ9Im15LXNsaWRlciI+DQogIDxvbD4NCiAgICA8bGk+DQogICAgICA8aW1nIHNyYz0ie3tpbWcwMX19Ij4NCiAgICAgIDxkaXYgY2xhc3M9ImlzbS1jYXB0aW9uIGlzbS1jYXB0aW9uLTAiPnt7Y2FwdGlvbjAxfX08L2Rpdj4NCiAgICA8L2xpPg0KICAgIDxsaT4NCiAgICAgIDxpbWcgc3JjPSJ7e2ltZzAyfX0iPg0KICAgICAgPGRpdiBjbGFzcz0iaXNtLWNhcHRpb24gaXNtLWNhcHRpb24tMCI+e3tjYXB0aW9uMDJ9fTwvZGl2Pg0KICAgIDwvbGk+DQogICAgPGxpPg0KICAgICAgPGltZyBzcmM9Int7aW1nMDN9fSI+DQogICAgICA8ZGl2IGNsYXNzPSJpc20tY2FwdGlvbiBpc20tY2FwdGlvbi0wIj57e2NhcHRpb24wM319PC9kaXY+DQogICAgPC9saT4NCiAgPC9vbD4NCjwvZGl2Pg0KPHAgY2xhc3M9ImlzbS1iYWRnZSIgaWQ9Im15LXNsaWRlci1pc20tYmFkZ2UiPjxhIGNsYXNzPSJpc20tbGluayIgaHJlZj0iaHR0cDovL2ltYWdlc2xpZGVybWFrZXIuY29tIiByZWw9Im5vZm9sbG93Ij5nZW5lcmF0ZWQgd2l0aCBJU008L2E+PC9wPg0KDQogIDwvYm9keT4NCjwvaHRtbD4NCg==`
        </script>
        <style type="text/css">
            *{
                box-sizing: border-box;
            }
            #ui-container{
                border: 1px solid grey;

                display: block;
                width: 500px;
                border-radius: 5px;

                font-family: sans-serif;
            }
            .ui-section{
                height: 50%;
                padding: 15px;
            }
            #code-container{
                background-color: #EEE;
                color: black;

                font-family: monospace;
                text-align: center;
                height: 20%;
            }
            button.copybutton{
                padding: 10px;
                background: #CCC;

                border: 1px solid #BBB;
                border-radius: 3px;
                margin-top: 5px;
            }

            #codeoutput{
                background: white;
                padding: 20px;
                word-wrap: break-word;

                border: 1px solid #ccc;

                border-radius: 5px;
                display: block;

                resize: none;
                width: 100%;
            }

            .ui-section > h1{
                font-size: 1.3em;
                text-align: center;
            }

            .label{
                display: inline-block;
                width: 90px;
                margin-top: 15px;
            }

            .numinput{
                width: 50px;
            }

            #form-container input{
                padding: 10px;
                border: 1px solid #CCC;
                border-radius: 5px;
            }
        </style>

        <script>
            var onload = function () {

            }
            function handleFileSelect(ev) {
              var files = ev.target.files;

              for(var i = 0, f; f=files[i]; i++){

                var fread = new FileReader();

                fread.onload = (function (theFile) {
                  return function (e) {
                    // Add the file to the list of files...
                    global_files.push(
                      {
                        "name":theFile.name,
                        "data":e.target.result,
                        "caption":""
                      }
                    );

                  }

                })(f);

                if(!f.type.match('image.*') || i > 2){
                  continue;
                }

                fread.readAsDataURL(f);
                var item_id = "li-"+f.name;
                var caption_id = "ca-"+i;
                out.push(`<li id="`+item_id+`"><strong>`,f.name, "</strong>", `<input type="text" id="`+caption_id+`" onkeyup="updateCaptionData(this)"/>`)
              }
              document.getElementById("file-list").innerHTML = out.join("")
              console.log(global_files)
            }
            function generatePage(){
              if(global_files.length > 0){
                var page = atob(sliderHTML).replace("#my-slider {", "#my-slider {\n\theight:300px;")
                var filename = ""
                for(var i = 0, f; f = global_files[i]; i++){
                  page = page.replace("{{img0"+(i+1)+"}}", f.data)
                  page = page.replace("{{caption0"+(i+1)+"}}", f.caption)
                  filename += f.caption + "-"
                }
                // Generate iframe code containing this page? maybe? idk

                var download_link = document.createElement("a");
                download_link.href = "data:text/html;base64,"+btoa(page)
                download_link.download = filename+"slider.html"
                download_link.appendChild(document.createTextNode("Download page"))
                download_link.click();
                //document.getElementById("code-container").appendChild(download_link)

                var next_stage_link = document.createElement("a");
                next_stage_link.href = "ifr.html?h=300px&w=100%"
                next_stage_link.appendChild(document.createTextNode("Open Iframe Generator"))

                document.getElementById("form-container").appendChild(next_stage_link)
              }


            }

            function updateCaptionData(obj){
              console.log(obj.id)
              global_files[parseInt(obj.id.substr(3))].caption = obj.value;
            }
            function copyCode(btn){
                 var copytxt = document.querySelector("#codeoutput");
                copytxt.select();
                try{
                    var success = document.execCommand('copy');

                    if(success){
                        // do something to indicate a successfuly copy.
                        btn.innerHTML = "Copied!"
                        setTimeout(function(){
                            btn.innerHTML = "Copy"
                        }, 3000);
                    } else{
                        btn.innerHTML = "Unable to Copy (You'll need to do it manually!)"
                        btn.disabled = true;
                    }

                } catch(err){
                    // Unable to copy, do something to indicate an error.
                     btn.innerHTML = "Unable to Copy (You'll need to do it manually!)"
                        btn.disabled = true;
                }
            }
            var out = []
            var global_files = []

            window.onload = onload;

        </script>
    </head>
    <body>
        <div id="ui-container">
            <div id="form-container" class="ui-section">
                <h1>Slider Generator</h1>
                <span class="label">Select files:</span><input type="file" id="files" name="files[]" multiple />
                <div id="file-list-container">
                  <ol id="file-list">

                  </ol>
                </div>
                <button id="generate" class="copybutton">Generate</button>
            </div>
        </div>
    </body>
    <script type="text/javascript">

      document.getElementById('generate').addEventListener('click', generatePage, false)
      document.getElementById('files').addEventListener("change", handleFileSelect, false)
    </script>
</html>
